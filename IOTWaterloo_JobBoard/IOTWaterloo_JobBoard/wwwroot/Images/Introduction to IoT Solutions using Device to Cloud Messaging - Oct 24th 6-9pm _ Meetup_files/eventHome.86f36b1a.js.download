(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{1162:function(e,t,n){"use strict";n.r(t);var a=n(17),s=n.n(a),r=n(18),o=n.n(r),i=n(23),c=n.n(i),l=n(24),u=n.n(l),d=n(25),m=n.n(d),p=n(5),v=n.n(p),g=n(0),f=n.n(g),E=n(75);t.default=function(e){return function(t){var n,a=function(n){function a(){return s()(this,a),c()(this,u()(a).apply(this,arguments))}return m()(a,n),o()(a,[{key:"componentDidMount",value:function(){window.newrelic&&window.newrelic.setCurrentRouteName(e),Object(E.gtmPush)({event:"interactiveRouteChange","page.type":this.props.pageType||e})}},{key:"render",value:function(){return f.a.createElement(t,this.props)}}]),a}(g.Component);return v()(a,"displayName","WithPageName(".concat((n=t).displayName||n.name||"Component",")")),a}}},1217:function(e,t,n){"use strict";n.d(t,"l",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"o",(function(){return v})),n.d(t,"c",(function(){return g})),n.d(t,"n",(function(){return f})),n.d(t,"i",(function(){return h})),n.d(t,"h",(function(){return b})),n.d(t,"b",(function(){return S})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return A})),n.d(t,"g",(function(){return N})),n.d(t,"d",(function(){return M})),n.d(t,"e",(function(){return C})),n.d(t,"m",(function(){return O})),n.d(t,"f",(function(){return T}));var a=n(6),s=n.n(a),r=n(1),o=n(2),i=n(346),c=n(1263),l=function(e){return e.reduce((function(e,t){return t.guests||0===t.guests?parseInt(e,10)+parseInt(t.guests,10):(t.rsvp||{}).guests?parseInt(e,10)+parseInt(t.rsvp.guests,10):parseInt(e,10)}),0)},u={NO_SHOW:"noshow",ABSENT:"absent",ATTENDED:"attended"},d="event_hosts",m="event_rsvps",p="event_payment",v=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=Object(o.getValueOrDefault)(e,o.EMPTY_AR),r=t?a.filter((function(e){return(((e.member||{}).self||{}).actions||[]).includes("message")})):a,i=n.length>0?r.filter((function(e){var t=(e.member||{}).id;return!n.includes(t)})):r;return i.map((function(e){var t=e.member,n=void 0===t?{}:t,a=n.self,r=void 0===a?{}:a,o=r.actions,i=void 0===o?[]:o;return s()({},e,{member:s()({},n,{self:s()({},r,{canMessage:i.includes("message")})})})}))},g=Object(r.createSelector)((function(e){return e.api[c.EDIT_RSVP_REF]}),(function(e){return Object(o.getResponse)(e,m,o.EMPTY_OBJ)})),f=Object(r.createSelector)(g,(function(e){return(e.event||o.EMPTY_OBJ).yes_rsvp_count})),E=function(e){return e.api[c.EDIT_HOSTS_REF]},h=Object(r.createSelector)(E,o.hasLoaded),b=Object(r.createSelector)(E,(function(e){if(Object(o.isEmpty)(e)||Object(o.hasValidRespValue)(e)&&Object(o.isEmpty)(e.value))return{event_hosts:o.EMPTY_AR};var t=e.query,n=(void 0===t?{}:t).params,a=(void 0===n?{}:n).canMessage;return s()({},Object(o.getResponse)(e,d,o.EMPTY_OBJ),{canMessage:a})})),S=Object(r.createSelector)((function(e){return e.api[c.MARK_AS_PAID_REF]}),(function(e){var t=(((e||{}).query||{}).params||{}).member;return Object.assign({},t?s()({},Object(o.getResponse)(e,p,o.EMPTY_OBJ),{memberId:t}):s()({},Object(o.getResponse)(e,p,o.EMPTY_OBJ)))})),_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.match,a=void 0===n?{}:n,s=a.params;return s&&s.urlname&&s.eventId?e.api["list_".concat(c.ATTENDEES_SEARCH_REF,"_").concat(s.urlname,"_").concat(s.eventId)]:{}},y=Object(r.createSelector)(_,(function(e){return v(e)})),A=Object(r.createSelector)(_,o.hasRespErrors),N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.match,a=void 0===n?{}:n,s=a.params;return s&&s.urlname&&s.eventId?e.api["".concat(i.b,"_").concat(s.urlname,"_").concat(s.eventId)]:{}},M=function(e,t){var n=e.api,a=n.inFlight,s=void 0===a?[]:a,r=(t||{}).match,o=(void 0===r?{}:r).params,c=void 0===o?{}:o,l="".concat(i.b,"_").concat(c.urlname,"_").concat(c.eventId),u=void 0!==(n[l]||{}).value;return!!(c&&c.urlname&&c.eventId)&&(!s.includes(l)&&u)},C=Object(r.createSelector)(N,o.hasRespErrors),O=Object(r.createSelector)(o.getInFlight,(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.match,a=void 0===n?{}:n,s=a.params;return"".concat(c.ATTENDEES_SEARCH_REF,"_").concat(s.urlname,"_").concat(s.eventId)}),(function(e,t){return e.includes(t)})),T=Object(r.createSelector)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.match,a=void 0===n?{}:n,s=a.params;return s&&s.urlname&&s.eventId?e.api["".concat(c.ATTENDEES_SEARCH_REF,"_").concat(s.urlname,"_").concat(s.eventId)]:{}}),(function(e){return Object(o.hasValidRespValue)(e)&&e.meta&&(e.meta.link||{}).next||""}))},1263:function(e,t,n){"use strict";n.r(t),n.d(t,"EDIT_RSVP_REF",(function(){return u})),n.d(t,"TAKE_ATTENDANCE_REF",(function(){return d})),n.d(t,"EDIT_HOSTS_REF",(function(){return m})),n.d(t,"ATTENDEES_SEARCH_REF",(function(){return p})),n.d(t,"MARK_AS_PAID_REF",(function(){return v})),n.d(t,"UPDATE_ATTENDANCE_GUEST_COUNT_REF",(function(){return g})),n.d(t,"MEMBERS_PER_PAGE",(function(){return f})),n.d(t,"orgEditRsvp",(function(){return E})),n.d(t,"editAttendanceGuestCount",(function(){return h})),n.d(t,"takeAttendance",(function(){return b})),n.d(t,"markAsPaid",(function(){return S})),n.d(t,"editEventHosts",(function(){return _})),n.d(t,"searchAttendees",(function(){return y})),n.d(t,"idTest",(function(){return A})),n.d(t,"loadNextAttendeesPage",(function(){return N})),n.d(t,"loadSortedAttendees",(function(){return M})),n.d(t,"loadAttendance",(function(){return C})),n.d(t,"loadSortedAttendance",(function(){return O})),n.d(t,"loadAttendees",(function(){return T}));var a=n(6),s=n.n(a),r=n(27),o=n(123),i=n.n(o),c=n(9),l=n(346),u="editRsvp",d="takeAttendance",m="editHosts",p="eventAttendeesSearch",v="markAsPaid",g="updateAttendanceGuestCount",f=12,E=function(e){return r.post({endpoint:"".concat(e.urlname,"/events/").concat(e.eventId,"/organizer_rsvps"),params:s()({},e,{fields:"pay_status"}),ref:u})},h=function(e){var t=JSON.parse(JSON.stringify(e));return r.post({endpoint:"".concat(t.urlname,"/events/").concat(t.eventId,"/attendance"),params:{member:t.member.id,status:t.status,guests:t.guests},ref:g})},b=function(e){var t=JSON.parse(JSON.stringify(e));return r.post({endpoint:"".concat(t.urlname,"/events/").concat(t.eventId,"/attendance"),params:{member:t.member.id,status:t.status,guests:t.guests},ref:d})},S=function(e){return r.post({endpoint:"".concat(e.urlname,"/events/").concat(e.eventId,"/payments"),params:e,ref:v})},_=function(e){var t={event_hosts:e.eventHosts,fields:"event_hosts",member:e.member,only:"event_hosts"};return void 0!==e.canMessage&&(t.canMessage=e.canMessage),r.patch({endpoint:"".concat(e.urlname,"/events/").concat(e.eventId),params:t,ref:m})},y=function(e){var t=e.urlname,n=e.eventId,a=e.isUpcoming,s=e.query,o=["web_actions","pay_status","self"];a||o.push("attendance_status");var i={query:s,fields:o.join(),page:f};return r.get({endpoint:"".concat(t,"/events/").concat(n,"/rsvps/search"),params:i,list:{dynamicRef:"list_".concat(p,"_").concat(t,"_").concat(n)},ref:"".concat(p,"_").concat(t,"_").concat(n)})},A=function(e,t){return e.member.id===t.member.id},N=function(e){var t=e.urlname,n=e.eventId,a=e.next,s=new URL(a);return r.get({endpoint:s.pathname.substr(1),params:i.a.parse(s.search.substr(1)),list:{dynamicRef:"list_".concat(p,"_").concat(t,"_").concat(n),merge:{idTest:A}},ref:"".concat(p,"_").concat(t,"_").concat(n)})},M=function(e){return r.get(Object(l.e)(e))};function C(e){var t=e.urlname,n=e.eventId,a=e.order,s=void 0===a?l.c:a;return r.get({type:"attendance",endpoint:"".concat(t,"/events/").concat(n,"/attendance"),params:{fields:"self,web_actions,answers,pay_status",order:s,desc:s===c.RSVP_SORT_OPTIONS.TIME},ref:"".concat(l.a,"_").concat(t,"_").concat(n)})}var O=function(e){return C(e)},T=function(e){return r.get(Object(l.e)(e))}},1359:function(e){e.exports=JSON.parse('{"en-US":{}}')},1450:function(e,t,n){"use strict";var a=n(19),s=n.n(a),r=n(0),o=n.n(r),i=n(285),c=n.n(i),l=n(15),u=n.n(l),d=n(67),m=n.n(d),p="".concat("groupSponsor","-link"),v=function(e){var t=e.logo,n=e.name,a=e.offering,s=t?"text--small":"text--sectionTitle";return o.a.createElement(m.a,{className:"".concat("groupSponsor"," align--center valignChildren--center"),hasHoverShadow:!0},t&&o.a.createElement(u.a,null,o.a.createElement(c.a,{src:t,large:!0})),o.a.createElement("p",{className:s},n),o.a.createElement(u.a,null,o.a.createElement("p",{className:"text--smaller text--hint"},a)))},g=function(e){var t=e.name,n=e.offering,a=e.logo,s=e.url;return s?o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:s,className:p},o.a.createElement(v,{name:t,offering:n,logo:a})):o.a.createElement(v,{name:t,offering:n,logo:a})},f=n(3),E=n(40),h=n.n(E),b=n(156),S=n.n(b),_=n(8),y=n.n(_),A=n(1359),N=Object(f.defineMessages)({thanksSponsors:{id:"sponsorListing.thanksSponsors",defaultMessage:"Thanks to our sponsors"}}),M=y()(A)((function(e){var t=e.sponsors;return o.a.createElement(h.a,null,o.a.createElement(u.a,null,o.a.createElement("h3",{className:"text--sectionTitle text--bold"},o.a.createElement(f.FormattedMessage,N.thanksSponsors))),o.a.createElement(S.a,{autoHeightWithWrap:!0,className:"".concat("sponsorListing"," flush--left"),columns:{default:2,medium:4,large:6},items:t}))}));t.a=function(e){var t=e.sponsors,n=s()(t).splice(0,6).map((function(e){return o.a.createElement(g,e)}));return o.a.createElement(M,{sponsors:n})}},1733:function(e){e.exports=JSON.parse('{"en-US":{}}')},1734:function(e){e.exports=JSON.parse('{"en-US":{}}')},1735:function(e){e.exports=JSON.parse('{"en-US":{}}')},1737:function(e){e.exports=JSON.parse('{"en-US":{}}')},1738:function(e){e.exports=JSON.parse('{"en-US":{}}')},1739:function(e){e.exports=JSON.parse('{"en-US":{}}')},1740:function(e,t,n){var a=n(1741),s=n(47);"string"==typeof a&&(a=[[e.i,a,""]]),e.exports=a.locals||{},e.exports._getContent=function(){return a},e.exports._getCss=function(){return a.toString()},e.exports._insertCss=function(e){return s(a,e)}},1741:function(e,t,n){(t=e.exports=n(46)(!1)).push([e.i,"._toasterAnimation-module_toasterAnimationWrapper__1fxyh{position:relative;overflow:hidden}._toasterAnimation-module_errorMsg__XZhCS{background:#ff5b0f;background:var(--c-orange)}._toasterAnimation-module_succesMsg__1_doH{background:#00a2c7;background:var(--c-blue)}",""]),t.locals={toasterAnimationWrapper:"_toasterAnimation-module_toasterAnimationWrapper__1fxyh",errorMsg:"_toasterAnimation-module_errorMsg__XZhCS",succesMsg:"_toasterAnimation-module_succesMsg__1_doH"}},1742:function(e){e.exports=JSON.parse('{"en-US":{}}')},1743:function(e,t,n){var a=n(1744),s=n(47);"string"==typeof a&&(a=[[e.i,a,""]]),e.exports=a.locals||{},e.exports._getContent=function(){return a},e.exports._getCss=function(){return a.toString()},e.exports._insertCss=function(e){return s(a,e)}},1744:function(e,t,n){(t=e.exports=n(46)(!1)).push([e.i,"._eventAnnounceStickyHeader-module_button__1wLrY{pointer-events:none;color:rgba(46,62,72,.12);color:var(--c-textDisabled)}._eventAnnounceStickyHeader-module_button__1wLrY,._eventAnnounceStickyHeader-module_button__1wLrY:focus,._eventAnnounceStickyHeader-module_button__1wLrY:hover{background:#f6f7f8;background:var(--c-lightGray)}._eventAnnounceStickyHeader-module_icon__1jKV4{color:rgba(46,62,72,.12);color:var(--c-textDisabled)}",""]),t.locals={button:"_eventAnnounceStickyHeader-module_button__1wLrY",icon:"_eventAnnounceStickyHeader-module_icon__1jKV4"}},1745:function(e){e.exports=JSON.parse('{"en-US":{}}')},1746:function(e,t,n){e.exports=n.p+"Announce_illo.4375a84d.png"},1747:function(e){e.exports=JSON.parse('{"en-US":{}}')},1831:function(e){e.exports=JSON.parse('{"en-US":{}}')},1832:function(e,t,n){var a=n(1833),s=n(47);"string"==typeof a&&(a=[[e.i,a,""]]),e.exports=a.locals||{},e.exports._getContent=function(){return a},e.exports._getCss=function(){return a.toString()},e.exports._insertCss=function(e){return s(a,e)}},1833:function(e,t,n){(t=e.exports=n(46)(!1)).push([e.i,"._saveEventButton-module_saveButton__2eemT[data-swarm-size=small]{padding:4px!important;padding:var(--space-quarter) var(--space-quarter)!important}._saveEventButton-module_saveButton__2eemT svg{margin:2px;width:16px;height:16px}._saveEventButton-module_unsaveButton__17whm{background-color:#ffad43;background-color:var(--color-marigold);border-color:#ffad43;border-color:var(--color-marigold)}._saveEventButton-module_unsaveButton__17whm[data-swarm-size=small]{padding:4px!important;padding:var(--space-quarter) var(--space-quarter)!important}._saveEventButton-module_unsaveButton__17whm:focus,._saveEventButton-module_unsaveButton__17whm:hover{background-color:#ffad43;background-color:var(--color-marigold)}._saveEventButton-module_unsaveButton__17whm svg{fill:#fff!important;fill:var(--color-white)!important}._saveEventButton-module_newStyle__1WGCV._saveEventButton-module_saveButton__2eemT{background-color:#fff;background-color:var(--color-white);border-color:#c5c4c4;border-color:var(--color-gray-4)}._saveEventButton-module_newStyle__1WGCV._saveEventButton-module_saveButton__2eemT svg{width:18px;height:18px}._saveEventButton-module_newStyle__1WGCV._saveEventButton-module_unsaveButton__17whm{background-color:#fff;background-color:var(--color-white)}._saveEventButton-module_newStyle__1WGCV._saveEventButton-module_unsaveButton__17whm svg{stroke:#f65858;stroke:var(--color-peach);fill:#f65858!important;fill:var(--color-peach)!important}._saveEventButton-module_newStyle__1WGCV._saveEventButton-module_unsaveButton__17whm:focus,._saveEventButton-module_newStyle__1WGCV._saveEventButton-module_unsaveButton__17whm:hover{background-color:#fff;background-color:var(--color-white)}",""]),t.locals={saveButton:"_saveEventButton-module_saveButton__2eemT",unsaveButton:"_saveEventButton-module_unsaveButton__17whm",newStyle:"_saveEventButton-module_newStyle__1WGCV"}},1834:function(e){e.exports=JSON.parse('{"en-US":{}}')},1835:function(e){e.exports=JSON.parse('{"en-US":{}}')},1836:function(e,t,n){var a=n(1837),s=n(47);"string"==typeof a&&(a=[[e.i,a,""]]),e.exports=a.locals||{},e.exports._getContent=function(){return a},e.exports._getCss=function(){return a.toString()},e.exports._insertCss=function(e){return s(a,e)}},1837:function(e,t,n){(t=e.exports=n(46)(!1)).push([e.i,"._eventCanceledStickyHeader-module_eventCanceled-header__3b1Kz{background:#757575;background:var(--c-mediumGray)}._eventCanceledStickyHeader-module_eventCanceled-header__3b1Kz ._eventCanceledStickyHeader-module_icon__3PT0L svg{fill:#fff;fill:var(--c-white)}._eventCanceledStickyHeader-module_eventCanceled-header__3b1Kz ._eventCanceledStickyHeader-module_text__3XL_k{color:#f6f7f8;color:var(--c-lightGray)}",""]),t.locals={"eventCanceled-header":"_eventCanceledStickyHeader-module_eventCanceled-header__3b1Kz",icon:"_eventCanceledStickyHeader-module_icon__3PT0L",text:"_eventCanceledStickyHeader-module_text__3XL_k"}},1838:function(e){e.exports=JSON.parse('{"en-US":{}}')},1839:function(e,t,n){e.exports=n.p+"saved_events_model_hero_image.6999e31c.png"},1840:function(e,t,n){var a=n(1841),s=n(47);"string"==typeof a&&(a=[[e.i,a,""]]),e.exports=a.locals||{},e.exports._getContent=function(){return a},e.exports._getCss=function(){return a.toString()},e.exports._insertCss=function(e){return s(a,e)}},1841:function(e,t,n){(t=e.exports=n(46)(!1)).push([e.i,"._SavedEventsModal-module_modal__1vNKo .view--modal{border-radius:16px}._SavedEventsModal-module_modal__1vNKo .stripe--withBGImg{min-height:225px}._SavedEventsModal-module_modal__1vNKo .stripe--withBGImg:before{display:none}._SavedEventsModal-module_modal__1vNKo .stripe{border-top:0}._SavedEventsModal-module_modal__1vNKo .modal-closeButton{display:none}._SavedEventsModal-module_modal__1vNKo .view--modalSnap{width:300px!important;margin-left:-150px;position:absolute;left:50%;margin-top:4%!important;min-height:0}@media only screen and (min-width:640px){._SavedEventsModal-module_modal__1vNKo .view--modalSnap{width:340px!important;margin-left:-170px;margin-top:10vh!important}}._SavedEventsModal-module_modal__1vNKo ._SavedEventsModal-module_content__1tS_O{margin:16px 32px;margin:var(--space-1) var(--space-double);padding:0}",""]),t.locals={modal:"_SavedEventsModal-module_modal__1vNKo",content:"_SavedEventsModal-module_content__1tS_O"}},1842:function(e){e.exports=JSON.parse('{"en-US":{}}')},1843:function(e,t,n){var a=n(1844),s=n(47);"string"==typeof a&&(a=[[e.i,a,""]]),e.exports=a.locals||{},e.exports._getContent=function(){return a},e.exports._getCss=function(){return a.toString()},e.exports._insertCss=function(e){return s(a,e)}},1844:function(e,t,n){(t=e.exports=n(46)(!1)).push([e.i,"._EventNote-module_note__1Cfhx{background-color:#0098ab;background-color:var(--color-viridian);padding:12px;padding:calc(var(--responsive-space)*0.75)}",""]),t.locals={note:"_EventNote-module_note__1Cfhx"}},1845:function(e){e.exports=JSON.parse('{"en-US":{}}')},1846:function(e){e.exports=JSON.parse('{"en-US":{}}')},1847:function(e){e.exports=JSON.parse('{"en-US":{}}')},1848:function(e,t,n){var a=n(1849),s=n(47);"string"==typeof a&&(a=[[e.i,a,""]]),e.exports=a.locals||{},e.exports._getContent=function(){return a},e.exports._getCss=function(){return a.toString()},e.exports._insertCss=function(e){return s(a,e)}},1849:function(e,t,n){(t=e.exports=n(46)(!1)).push([e.i,"._RSVPStatus-module_editButton__3KM8i{color:#00a2c7;color:var(--c-blue);cursor:pointer}",""]),t.locals={editButton:"_RSVPStatus-module_editButton__3KM8i"}},1850:function(e){e.exports=JSON.parse('{"en-US":{}}')},1851:function(e,t,n){var a=n(1852),s=n(47);"string"==typeof a&&(a=[[e.i,a,""]]),e.exports=a.locals||{},e.exports._getContent=function(){return a},e.exports._getCss=function(){return a.toString()},e.exports._insertCss=function(e){return s(a,e)}},1852:function(e,t,n){(t=e.exports=n(46)(!1)).push([e.i,"._EventStickyFooter-module_footer__3fDH-{background:#fff;background:var(--c-white);margin-top:32px;margin-top:calc(var(--responsive-space)*2)}._EventStickyFooter-module_footerContent__bOcM4{padding:24px 16px;padding:calc(var(--responsive-space)*1.5) var(--responsive-space)}@media only screen and (min-width:640px){._EventStickyFooter-module_footerContent__bOcM4{padding:16px;padding:var(--responsive-space)}}._EventStickyFooter-module_eventActions__1dOQN{margin-left:32px;margin-left:calc(var(--responsive-space)*2)}",""]),t.locals={footer:"_EventStickyFooter-module_footer__3fDH-",footerContent:"_EventStickyFooter-module_footerContent__bOcM4",eventActions:"_EventStickyFooter-module_eventActions__1dOQN"}},1853:function(e){e.exports=JSON.parse('{"en-US":{}}')},1854:function(e,t,n){var a=n(1855),s=n(47);"string"==typeof a&&(a=[[e.i,a,""]]),e.exports=a.locals||{},e.exports._getContent=function(){return a},e.exports._getCss=function(){return a.toString()},e.exports._insertCss=function(e){return s(a,e)}},1855:function(e,t,n){(t=e.exports=n(46)(!1)).push([e.i,"._eventChatStickyHeader-module_name__izteJ{font-weight:500;font-weight:var(--font-weight-medium)}._eventChatStickyHeader-module_time__5sP-c{color:#a2a2a2;color:var(--color-gray-5)}",""]),t.locals={name:"_eventChatStickyHeader-module_name__izteJ",time:"_eventChatStickyHeader-module_time__5sP-c"}},2684:function(e,t,n){"use strict";n.r(t);var a=n(11),s=n.n(a),r=n(6),o=n.n(r),i=n(17),c=n.n(i),l=n(18),u=n.n(l),d=n(23),m=n.n(d),p=n(24),v=n.n(p),g=n(10),f=n.n(g),E=n(25),h=n.n(E),b=n(5),S=n.n(b),_=n(0),y=n.n(_),A=n(28),N=n(1),M=n(31),C=n(107),O=n.n(C),T=n(421),w=n(192),P=n(56),R=n.n(P),k=n(75),I=n(99),j=n(76),H=n(1455),D=n(334),F=n.n(D),B=n(57),x=n(1162),U=n(60),L=n(92),G=n(59),W=n(2),V=n(16),Y=n(52),J=n(22),q=n(170),z=n(115),K=n(19),Q=n.n(K),X=n(3),Z=n(1175),$=n.n(Z),ee=n(32),te=n(43),ne=n(51),ae=n(173),se=n(8),re=n.n(se),oe=n(1733),ie=n(39),ce=n(9),le=n(41),ue=n(61),de=Object(X.defineMessages)({where:{id:"seo.eventHead.where",defaultMessage:"Where"},when:{id:"seo.eventHead.when",defaultMessage:"When"},eventDescriptionUnavailable:{id:"seo.eventHead.eventDescriptionUnavailable",defaultMessage:"The description of the event, {EVENT_NAME}, is available only to members."}}),me=Object(N.createStructuredSelector)({group:le.h,eventInfo:ue.i,baseUrl:V.getBaseUrl,localeCode:V.getLocale}),pe=Object(M.compose)(re()(oe,!0),Object(A.connect)(me))((function(e){var t=e.eventInfo,n=e.group,a=e.baseUrl,s=e.localeCode,r=e.intl,i=(t.featured_photo||n.key_photo||{}).photo_link,c=function(e,t){return e.visibility===ce.EVENT_STATUS.PRIVATE?t.formatMessage(de.eventDescriptionUnavailable,{EVENT_NAME:e.name}):e.plain_text_no_images_description||e.description||""}(t,r),l=Object(ae.j)(n),u=t.time?r.formatDate(Object(ee.convertToLocalTime)(t.time,t.utc_offset),{weekday:"short",month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}):null,d=function(e,t,n){return t&&"cancelled"!==n?"".concat(t,": ").concat(e):e}(c,u,t.status),m=t.venue&&Object(ae.f)(t.venue)||[],p=Boolean(n.visibility===ie.GROUP_VISIBILITY.PUBLIC&&t.venue&&t.venue_visibility===ce.VENUE_VISIBILITY_STATUS.PUBLIC&&t.time)?function(e,t,n){return[{name:"twitter:label1",value:e.formatMessage(de.where)},{name:"twitter:data1",value:t},{name:"twitter:label2",value:e.formatMessage(de.when)},{name:"twitter:data2",value:n}]}(r,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=void 0===t?"":t,a=e.address_1,s=void 0===a?"":a,r=e.city,o=void 0===r?"":r,i=e.state,c=void 0===i?"":i;return"".concat(n," ").concat(s," ").concat(o).concat(c&&", ".concat(c))}(t.venue),u):[],v=[].concat(Q()(m),Q()(p)),g=function(e,t,n,a){var s=Object(ae.c)(a,n,Object(te.l)(t.urlname)),r=Object(ae.c)(a,n,Object(ne.o)(t.urlname,e.id)),o=Object(ae.c)(a,n,Object(ne.u)(t.urlname));return{"@context":ae.b,"@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,item:{"@id":"".concat(s,"/"),name:t.name}},{"@type":"ListItem",position:2,item:{"@id":o,name:"Events"}},{"@type":"ListItem",position:3,item:{"@id":r,name:e.name}}]}}(t,n,s,a),f=[Object(ae.e)(o()({},t,{description:c}),n,s,a),g];return y.a.createElement($.a,{baseUrl:a,ldJson:f,breadcrumbLdJson:g,localeCode:s,imageUrl:i,pageDescription:d,pageKeywords:l,pageTitle:t.name,robots:!0,route:Object(ne.o)(n.urlname,t.id),pageMeta:v})})),ve=n(30),ge=n.n(ve),fe=n(1447),Ee=n(232),he=function(e){var t=e.rsvpFromQueryString,n=e.event,a=e.group,s=e.groupProfile,r=e.groupMemberInfo,i=e.urlname,c=e.render,l=e.memberPayCheckoutSettings;return _.createElement(fe.a,{event:n,urlname:i,render:function(e){var i=e.isCanceled,u=e.isDeleted,d=e.isClosedForRsvp,m=ge()(e,["isCanceled","isDeleted","isClosedForRsvp"]);return _.createElement(Ee.c,{rsvpFromQueryString:t,event:n,group:a,groupProfile:s,groupMemberInfo:r,isCanceled:i,isDeleted:u,isClosedForRsvp:d,memberPayCheckoutSettings:l,render:function(e){return c(o()({isCanceled:i,isDeleted:u,isClosedForRsvp:d},m,e))}})}})},be=n(200),Se=n(1287),_e=n(1235),ye=n(252),Ae=n(94),Ne=n(42),Me=n.n(Ne),Ce=n(4),Oe=n.n(Ce),Te=n(90),we=n.n(Te),Pe=n(35),Re=n(58),ke=n(106),Ie=n.n(ke),je=n(15),He=n.n(je),De=n(14),Fe=n.n(De),Be=n(7),xe=n.n(Be),Ue=n(40),Le=n.n(Ue),Ge=n(444),We=n(179),Ve=n(79),Ye=n.n(Ve),Je=n(67),qe=n.n(Je),ze=n(1337),Ke=n(337),Qe=function(e){function t(){return c()(this,t),m()(this,v()(t).apply(this,arguments))}return h()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.group,n=e.groupMemberInfo,a=e.showPrivacyLabel,r=e.isDesktopView,o=ge()(e,["group","groupMemberInfo","showPrivacyLabel","isDesktopView"]),i=n.isGroupPrivate,c=n.isGroupPublic,l=Object(te.l)(t.urlname),u=t.key_photo?t.key_photo.highres_link:Object(Ke.a)(t.photo_gradient);return y.a.createElement(Ye.a,{to:l,className:"event-group"},y.a.createElement(He.a,{className:"event-group-chunk"},y.a.createElement(qe.a,s()({className:"event-group-card",initialHeight:!0,flushUntil:"large"},o),y.a.createElement("div",null,y.a.createElement(Fe.a,null,y.a.createElement(xe.a,{shrink:!0,className:Oe()({"event-group-photo-wrap":!r})},y.a.createElement("img",{className:"event-group-photo",src:u,alt:t.name})),y.a.createElement(xe.a,{className:"event-group-content"},y.a.createElement(Fe.a,{direction:"column",className:"event-group-photoHeight"},y.a.createElement(xe.a,{shrink:!0,className:"event-group-name"},y.a.createElement("span",{className:Oe()("text--bold","text--small","display--inlineBlock")},t.name)),y.a.createElement(xe.a,{shrink:!0},a&&y.a.createElement(ze.a,{isGroupPrivate:i,isGroupPublic:c,className:"text--secondary text--small"})))))))))}}]),t}(y.a.PureComponent),Xe=n(33),Ze=n.n(Xe),$e=n(20),et=n.n($e),tt=n(445),nt=n(423),at=n(424),st=n(1734),rt=n(1217),ot="".concat("eventStatusIndicator","-status"),it=Object(X.defineMessages)({isUpcomingGoing:{id:"eventStatus.isUpcomingGoing",defaultMessage:"You're going"},isUpcomingGoingGuests:{id:"eventStatus.isUpcomingGoingGuests",defaultMessage:"You're going (+{GUEST_COUNT})"},isUpcomingNotGoing:{id:"eventStatus.isUpcomingNotGoing",defaultMessage:"You're not going"},isUpcomingGoingWaitlist:{id:"eventStatus.isUpcomingGoingWaitlist",defaultMessage:"You're on the waitlist"},isUpcomingGoingWaitlistGuests:{id:"eventStatus.isUpcomingGoingWaitlistGuests",defaultMessage:"You're on the waitlist (+{GUEST_COUNT})"},isUpcomingJoinWaitlist:{id:"eventStatus.isUpcomingJoinWaitlist",defaultMessage:"Join waitlist?"},isUpcomingNoResponse:{id:"eventStatus.isUpcomingNoResponse",defaultMessage:"Are you going?"},isUpcomingAttendees:{id:"eventStatus.isUpcomingAttendees",defaultMessage:"{TOTAL_ATTENDEES} people going{PERIOD}"},isUpcomingWaitlist:{id:"eventStatus.isUpcomingWaitlist",defaultMessage:"{TOTAL_WAITLIST} on waitlist{PERIOD}"},isPastNoMeetupCopy:{id:"eventStatus.isPastNoMeetupCopy",defaultMessage:"This is a past event"},isPastWent:{id:"eventStatus.isPastWent",defaultMessage:"You went"},isPastWentGuests:{id:"eventStatus.isPastWentGuests",defaultMessage:"You went (+{GUEST_COUNT})"},isPastDidntGo:{id:"eventStatus.isPastDidntGo",defaultMessage:"You didn't go"},isPastAttendees:{id:"eventStatus.isPastAttendees",defaultMessage:"{TOTAL_ATTENDEES} people went{PERIOD}"},canceledEvent:{id:"eventStatus.canceledEvent",defaultMessage:"Meetup Canceled"},fullEvent:{id:"eventStatus.fullEvent2",defaultMessage:"This event is full"},happeningNow:{id:"eventStatus.happeningNow",defaultMessage:"This Meetup is happening now"},spotsLeft:{id:"eventStatus.spotsLeft",defaultMessage:"{SPOTS_LEFT, number} spots left{PERIOD}"},oneSpotLeft:{id:"eventStatus.oneSpotLeft",defaultMessage:"1 spot left"},noSpotsLeft:{id:"eventStatus.noSpotsLeft",defaultMessage:"No spots left"},isClosed:{id:"eventStatus.isClosed",defaultMessage:"RSVPs are closed"},rsvpsCloseTime:{id:"eventStatus.rsvpsCloseTime",defaultMessage:"Respond by {TIME} on {DATE}{PERIOD}"},rsvpsOpenTime:{id:"eventStatus.rsvpsOpenTime",defaultMessage:"Claim your spot at {TIME} on {DATE}{PERIOD}"},period:{id:"eventStatus.period",defaultMessage:"."}}),ct=function(e,t){var n={};return(n=Object(ee.getZonedPropsForFormattedDate)(e,t)).value||(n.value=e),n},lt=function(e,t){if(!e)return{};var n=ct(e,t);return n.value||(n.value=e),{DATE:n.value&&_.createElement(X.FormattedDate,s()({},n,{day:"numeric",month:"numeric"})),TIME:n.value&&_.createElement(X.FormattedTime,n)}},ut=Object(Pe.compose)(re()(st,!0))((function(e){var t=e.event,n=e.rsvpResponse,a=void 0===n?"":n,s=e.rsvpGuestCount,r=void 0===s?0:s,i=e.attendeesTotal,c=void 0===i?0:i,l=e.waitlistTotal,u=void 0===l?0:l,d=e.showWaitlist,m=void 0!==d&&d,p=e.isFullNoWaitlist,v=void 0!==p&&p,g=e.isClosedForRsvp,f=void 0!==g&&g,E=e.isHappeningNow,h=void 0!==E&&E,b=e.className,S=e.intl,y=e.attendanceStatus,A=t.rsvp_rules||{},N=Math.max(t.rsvp_limit-c,0),M=(t.group||{}).timezone||"",C=function(e,t,n,a,s,r){return{eventHappening:{trn:it.happeningNow,className:"text--bold padding--right-half"},eventUpcomingGoing:{trn:t?o()({},it.isUpcomingGoingGuests,{values:{GUEST_COUNT:t}}):it.isUpcomingGoing,className:"text--bold padding--right-half"},eventUpcomingGoingWaitlist:{trn:t?o()({},it.isUpcomingGoingWaitlistGuests,{values:{GUEST_COUNT:String(t)}}):it.isUpcomingGoingWaitlist,className:"text--bold padding--right-half"},eventUpcomingNotGoing:{trn:it.isUpcomingNotGoing,className:"text--bold padding--right-half"},eventUpcomingNoResponse:{trn:it.isUpcomingNoResponse,className:"text--bold padding--right-half"},eventUpcomingNoResponseWaitlist:{trn:it.isUpcomingJoinWaitlist,className:"text--bold padding--right-half"},eventUpcomingAttendeesCount:{trn:o()({},it.isUpcomingAttendees,{values:{TOTAL_ATTENDEES:a,PERIOD:""}}),className:"text--secondary text--small"},eventUpcomingWaitlistCount:{trn:o()({},it.isUpcomingWaitlist,{values:{TOTAL_WAITLIST:String(s),PERIOD:""}}),className:"text--secondary text--small"},eventPast:{trn:it.isPastNoMeetupCopy,className:"text--bold padding--right-half"},eventPastWent:{trn:t?o()({},it.isPastWentGuests,{values:{GUEST_COUNT:t}}):it.isPastWent,className:"text--bold padding--right-half"},eventPastDidntGo:{trn:it.isPastDidntGo,className:"text--bold padding--right-half"},eventPastAttendeesCount:{trn:o()({},it.isPastAttendees,{values:{TOTAL_ATTENDEES:a,PERIOD:""}}),className:"text--secondary text--small"},eventCanceled:{trn:it.canceledEvent},eventFull:{trn:it.fullEvent,className:"text--bold padding--right-half"},eventClosed:{trn:it.isClosed,className:"text--bold padding--right-half"},eventOpenTime:{trn:o()({},it.rsvpsOpenTime,{values:o()({},lt(e.open_time,r),{PERIOD:""})}),className:"text--secondary text--small"},eventCloseTime:{trn:o()({},it.rsvpsCloseTime,{values:o()({},lt(e.close_time,r),{PERIOD:""})}),className:"text--secondary text--small"},eventSpotsLeft:{trn:1===n?o()({},it.oneSpotLeft,{values:{PERIOD:""}}):o()({},it.spotsLeft,{values:{SPOTS_LEFT:n,PERIOD:""}}),className:"text--secondary"}}}(A,r,N,c,u,M),O=function(e,t,n,a,s,r,o,i,c,l,u,d,m,p,v,g,f,E){if(a)return[];var h=E>1&&v.eventPastAttendeesCount,b=E>1&&v.eventUpcomingAttendeesCount;if(n&&f)switch(f){case rt.a.ABSENT:case rt.a.NO_SHOW:return[v.eventPastDidntGo,h];case rt.a.ATTENDED:return[v.eventPastWent,h]}if(u===ce.RSVP.YES){if(t||e)return[v.eventUpcomingGoing,b];if(n)return[v.eventPastWent,h]}if(u===ce.RSVP.NO){if(t||e)return[v.eventUpcomingNotGoing,b];if(n)return[v.eventPastDidntGo,h]}if(n)return[v.eventPast,h];if(e)return[v.eventHappening,b];if(u===ce.RSVP.WAITLIST)return[v.eventUpcomingGoingWaitlist,v.eventUpcomingWaitlistCount];if(o){var S=c&&v.eventSpotsLeft;return S&&(v.eventOpenTime.trn.values.PERIOD=g.formatMessage(it.period),S.trn.values.PERIOD=g.formatMessage(it.period)),[v.eventClosed,v.eventOpenTime,S].filter((function(e){return e}))}if(i||r)return[v.eventClosed];if(p)return[v.eventFull];if(m)return l?(v.eventCloseTime.trn.values.PERIOD=g.formatMessage(it.period),v.eventUpcomingWaitlistCount.trn.values.PERIOD=g.formatMessage(it.period),[v.eventUpcomingNoResponseWaitlist,v.eventCloseTime,v.eventUpcomingWaitlistCount].filter((function(e){return e}))):[v.eventUpcomingNoResponseWaitlist,v.eventUpcomingWaitlistCount];if(l){var _=c&&v.eventSpotsLeft;return _&&(v.eventCloseTime.trn.values.PERIOD=g.formatMessage(it.period),_.trn.values.PERIOD=g.formatMessage(it.period)),[v.eventUpcomingNoResponse,v.eventCloseTime,_].filter((function(e){return e}))}return c?[v.eventUpcomingNoResponse,v.eventSpotsLeft]:[v.eventUpcomingNoResponse,b]}(h,t.isUpcoming,t.isPast,t.isCanceled,t.isFull,f,t.isBeforeRsvpOpenTime,t.isAfterRsvpCloseTime,N,A.close_time,a,0,m,v,C,S,y,c).map((function(e,t){if(!e)return!1;var n=null,a=e===C.eventOpenTime,s=e===C.eventCloseTime;if(a)n=ct(A.open_time,M).value;else if(s){n=ct(A.close_time,M).value}return _.createElement("p",{key:t,className:Oe()(ot,"display--inline",e.className),dateTime:n},Boolean(t)&&" ",_.createElement(X.FormattedMessage,e.trn))}));return _.createElement("div",{className:Oe()("eventStatusIndicator",b)},O)})),dt=n(50),mt=n(1735),pt=Object(X.defineMessages)({eventChatButtonLabel:{id:"eventChatButton.label",defaultMessage:"Chat"}}),vt=re()(mt)((function(e){var t=e.urlname,n=e.event,a=e.className;return y.a.createElement(dt.LinkButton,{href:Object(ne.j)(t,n.id),grow:!0,className:a},y.a.createElement(X.FormattedMessage,pt.eventChatButtonLabel))})),gt=("".concat("eventActionsMenu","-trigger"),"".concat("eventActionsMenu","-eventActionButton")),ft=Object(Pe.compose)(re()(nt,!0),Object(U.default)(q.a),Object(U.default)(q.l))((function(e){var t=e.event,n=e.editEventSeries,a=e.cancelEvent,s=e.canCloseRsvp,r=e.canOpenRsvp,o=e.deleteDraftEvent,i=e.deleteCanceledEvent,c=e.openEventForRsvp,l=e.closeEventForRsvp,u=e.isCanceled,d=e.isDeleted,m=e.isClosedForRsvp,p=e.hidePreviewOption,v=e.hideAttendOption,g=e.triggerRsvpAction,f=e.hideBorder,E=e.urlname,h=e.isProNetworkGroup,b=e.isProNetworkGroupHidden,S=e.isApplyCanceledCardLayout,_=e.featureFlags,A=e.isHideStatusForMembers,N=e.isDesktopView,M=e.hasImprovedCTAs,C=t.id,O=(t.self||{}).canCopy&&(t.isPast||t.isCanceled),T=t.isLeadershipTeam||t.isEventHost,w=g&&t.isGroupMember?Object(ne.n)(E,C,ce.RSVP.YES):Object(ne.o)(E,C),P=(t.self||{}).rsvp,R=t.isGroupMember&&Boolean(P&&P.response),k=t.isHappeningNow,I=t.isBeforeRsvpOpenTime,j=t.isAfterRsvpCloseTime,H=!(v||t.isPast||R||t.isDraft||t.isCanceled||k||m||I||j),D=_.includes(q.a),F=D&&O||!D&&!S&&O,B=!M&&(!A||T)&&(k||m||I||j),x=_.includes(q.l)&&!N;return y.a.createElement("div",{className:"eventActionsMenu"},x&&y.a.createElement(He.a,null,y.a.createElement(vt,{urlname:E,event:t,className:"margin--halfTop"})),H&&y.a.createElement(Ze.a,{component:Ye.a,to:w,fullWidth:!0,className:Oe()("".concat(gt,"-attend"),{"marginHalf--bottom":T},"align--center margin--top")},y.a.createElement(X.FormattedMessage,at.a.eventAttend)),F&&y.a.createElement(He.a,null,y.a.createElement(Ze.a,{component:Ye.a,to:Object(be.a)(E,C),fullWidth:!0,bordered:t.isPast,primary:!t.isPast,className:"".concat(gt,"-copy")},y.a.createElement(et.a,{shape:"copy",size:"xs",className:"padding--right-quarter"}),y.a.createElement(X.FormattedMessage,at.a.eventCopyNoMeetUp))),T&&y.a.createElement(He.a,null,y.a.createElement(tt.a,{event:t,urlname:E,editEventSeries:n,cancelEvent:a,deleteDraftEvent:o,deleteCanceledEvent:i,openEventForRsvp:c,closeEventForRsvp:l,isCanceled:u,isDeleted:d,canOpenRsvp:r,canCloseRsvp:s,isClosedForRsvp:m,hidePreviewOption:p,hideBorder:f,isProNetworkGroup:h,isProNetworkGroupHidden:b})),B&&y.a.createElement(ut,{event:t,className:"padding--bottom",isClosedForRsvp:m,isHappeningNow:k}))})),Et=n(336),ht=n(1736),bt=n.n(ht),St=n(202),_t=function(e){var t=e.datetime,n=e.timezone,a=e.utcoffset,r=e.hasNoTimezone,o=e.className,i=ge()(e,["datetime","timezone","utcoffset","hasNoTimezone","className"]),c=Oe()("dateDisplay",o);r||t&&n?t&&(a||0===a)||console.error("datetime and utcoffset are required for this to display correctly","datetime = ",t," utcoffset = ",a):console.error("datetime and timezone are required for this to display correctly","datetime = ",t," timezone = ",n);var l={};return n&&(l=Object(ee.getZonedPropsForFormattedDate)(t,n)),l.value||(l.value=Object(ee.convertToLocalDatetime)(t,a)),y.a.createElement("time",s()({dateTime:l.value,className:c},i),y.a.createElement("span",{className:"dateDisplay-day"},y.a.createElement(X.FormattedDate,s()({},l,{day:"numeric"}))),y.a.createElement("span",{className:"dateDisplay-month text--tiny"},y.a.createElement(X.FormattedDate,s()({},l,{month:"short"}))))},yt=n(1737),At="".concat("event-info-group","--groupName"),Nt=Object(X.defineMessages)({fromGroup:{id:"event.info.fromGroup",defaultMessage:"From {GROUP_NAME}"},hostedByGroup:{id:"event.info.hostedByGroup",defaultMessage:"Hosted by {GROUP_NAME}"}}),Mt=re()(yt)((function(e){var t=e.groupName,n=e.groupUrl,a=e.hasHost,r=e.isGroupPrivate,o=e.isGroupPublic,i=e.showPrivacyLabel,c=e.textClassName,l=e.isLegacyAccessForbidden,u=a?Nt.fromGroup:Nt.hostedByGroup;return y.a.createElement(_.Fragment,null,y.a.createElement(Ye.a,{to:"".concat(n,"/")},y.a.createElement("p",{className:Oe()(c,"wrap--singleLine--truncate")},y.a.createElement(X.FormattedMessage,s()({},u,{values:{GROUP_NAME:y.a.createElement("span",{className:Oe()(At,"link")},t)}})))),i&&y.a.createElement(ze.a,{isGroupPrivate:r||l,isGroupPublic:o,className:"text--secondary text--small"}))})),Ct=n(70),Ot=n.n(Ct),Tt=n(1738),wt=Object(X.defineMessages)({only1Host:{id:"event.info.only1Host",defaultMessage:'<span class="{CLASSNAMES}">Hosted by <span class="link">{HOST_1}</span></span>'},only2Hosts:{id:"event.info.only2Hosts",defaultMessage:'<span class="{CLASSNAMES}">Hosted by <span class="link">{HOST_1} and {HOST_2}</span></span>'},moreThan2Hosts:{id:"event.info.moreThan2Hosts",defaultMessage:'<span class="{CLASSNAMES}">Hosted by <span class="link">{HOST_1} and {REMAINDER_HOST_COUNT} others</span></span>'}}),Pt="".concat("event-info-hosts","-text"),Rt=(re()(Tt)((function(e){var t=e.hosts,n=e.className,a=e.groupName,r=e.groupUrl,o=e.hideIcon,i=e.hideGroupName,c=e.isGroupPublic,l=e.isGroupPrivate,u=e.showAvatar,d=e.showPrivacyLabel,m=e.smallAvatar,p=e.textClassName,v=e.attendeeUrl,g=e.isLegacyAccessForbidden,f=ge()(e,["hosts","className","groupName","groupUrl","hideIcon","hideGroupName","isGroupPublic","isGroupPrivate","showAvatar","showPrivacyLabel","smallAvatar","textClassName","attendeeUrl","isLegacyAccessForbidden"]),E=Oe()("event-info-hosts",n),h=function(e,t,n){switch(e.length){case 0:return"";case 1:return y.a.createElement(X.FormattedHTMLMessage,s()({},wt.only1Host,{values:{HOST_1:e[0].name,URL:n,CLASSNAMES:t}}));case 2:return y.a.createElement(X.FormattedHTMLMessage,s()({},wt.only2Hosts,{values:{HOST_1:e[0].name,HOST_2:e[1].name,URL:n,CLASSNAMES:t}}));default:return y.a.createElement(X.FormattedHTMLMessage,s()({},wt.moreThan2Hosts,{values:{HOST_1:e[0].name,REMAINDER_HOST_COUNT:e.length-1,URL:n,CLASSNAMES:t}}))}}(t,p,v);return y.a.createElement(Fe.a,s()({className:E,align:"center"},f),!o&&y.a.createElement(xe.a,{className:"text--blue",shrink:!0},y.a.createElement(et.a,{shape:"profile",size:"s"})),u&&y.a.createElement(xe.a,{shrink:!0},y.a.createElement(Ot.a,{member:t[0],href:v,small:m})),y.a.createElement(xe.a,{className:Oe()(Pt,p,"valign--middle",{"wrap--singleLine--truncate":!i})},y.a.createElement(Ye.a,{to:v},h),!i&&a&&r&&y.a.createElement(Mt,{groupName:a,groupUrl:r,hasHost:!0,isGroupPublic:c,isGroupPrivate:l,isLegacyAccessForbidden:g,showPrivacyLabel:d,textClassName:p})))})),n(167)),kt=Object(X.defineMessages)({only1Host:{id:"event.group.info.only1Host",defaultMessage:'<span class="{CLASSNAMES}">Hosted by <br /> <span class="text--bold event-hosts-info-no-link">{HOST_1}</span></span>'},only2Hosts:{id:"event.group.info.only2Hosts",defaultMessage:'<span class="{CLASSNAMES}">Hosted by <br /> <span class="text--bold event-hosts-info-no-link">{HOST_1} and {HOST_2}</span></span>'},moreThan2Hosts:{id:"event.group.info.moreThan2Hosts",defaultMessage:'<span class="{CLASSNAMES}">Hosted by <br /> <span class="text--bold event-hosts-info-no-link">{HOST_1} and {REMAINDER_HOST_COUNT} others</span></span>'}}),It=function(e){var t=e.className,n=e.hosts,a=e.attendeeUrl,r=(e.urlname,ge()(e,["className","hosts","attendeeUrl","urlname"])),o=Oe()(t,"event-host-info"),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch(e.length){case 0:return"";case 1:return y.a.createElement(X.FormattedHTMLMessage,s()({},kt.only1Host,{values:{HOST_1:e[0].name,CLASSNAMES:t}}));case 2:return y.a.createElement(X.FormattedHTMLMessage,s()({},kt.only2Hosts,{values:{HOST_1:e[0].name,HOST_2:e[1].name,CLASSNAMES:t}}));default:return y.a.createElement(X.FormattedHTMLMessage,s()({},kt.moreThan2Hosts,{values:{HOST_1:e[0].name,REMAINDER_HOST_COUNT:e.length-1,CLASSNAMES:t}}))}}(n);return y.a.createElement(Fe.a,s()({className:o,align:"center"},r),y.a.createElement(xe.a,{shrink:!0},y.a.createElement(Ot.a,{member:n[0],href:a})),y.a.createElement(xe.a,{className:Oe()(Pt,"valign--middle")},y.a.createElement(Rt.Link,{to:a},i)))},jt=function(e){function t(){return c()(this,t),m()(this,v()(t).apply(this,arguments))}return h()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.showEventHosts,n=e.event,a=e.attendeeUrl,s=e.groupName,r=e.groupUrl,o=e.isGroupPrivate,i=e.isGroupPublic,c=e.isLegacyAccessForbidden,l=e.urlname;return t?y.a.createElement(It,{hosts:n.event_hosts,attendeeUrl:a,urlname:l}):y.a.createElement(Mt,{groupName:s,groupUrl:r,isGroupPublic:i,isGroupPrivate:o,isLegacyAccessForbidden:c,showPrivacyLabel:!0,textClassName:"text--secondary text--small"})}}]),t}(y.a.PureComponent),Ht=n(1739),Dt=Object(X.defineMessages)({inProgress:{id:"eventStatusLabel.inProgress",defaultMessage:"Happening now"},canceledMeetup:{id:"eventStatusLabel.canceledMeetup",defaultMessage:"Canceled Meetup"},draftMeetup:{id:"eventPageHeader.draftMeetup",defaultMessage:"Draft Meetup"},proposedMeetup:{id:"eventStatusLabel.proposedMeetup",defaultMessage:"Needs a date and time"}}),Ft=Object(Pe.compose)(re()(Ht))((function(e){var t=e.event;if(t.isHappeningNow)return y.a.createElement(X.FormattedMessage,Dt.inProgress);if(t.isProposed)return y.a.createElement(X.FormattedMessage,Dt.proposedMeetup);var n={};t.group&&t.group.timezone&&(n=Object(ee.getZonedPropsForFormattedDate)(t.time,t.group.timezone)),n.value||(n.value=Object(ee.convertToLocalDatetime)(t.time,t.utc_offset));var a=o()({},n,{month:"long",day:"numeric",year:"numeric",weekday:"long"});return a.value?y.a.createElement("time",{className:"eventStatusLabel",dateTime:a.value},y.a.createElement(X.FormattedDate,a)):null})),Bt=R()((function(e){var t=e.event,n=e.isCanceled,a=e.urlname,s=e.groupName,r=e.isGroupPrivate,o=e.isLegacyAccessForbidden,i=e.isGroupPublic,c=e.rightContent,l=e.media,u=e.hasImprovedCTAs,d=y.a.createElement(Ft,{event:t}),m=Boolean(t.time)&&l.isAtMediumUp&&!u,p=void 0!==t.event_hosts,v=Object(te.l)(a),g=Object(ne.g)(a,t.id),f=(t.group||{}).timezone||"",E={pageHead:Oe()("pageHead"),title:Oe()("pageHead-headline","text--pageTitle"),titleLabel:Oe()("pageHead-pageTitleLabel","text--medium text--secondary"),container:Oe()("pageHead-pageTitle"),titleArea:Oe()("pageHead--titleArea",{"margin--bottom":n&&!l.isAtMediumUp})};return y.a.createElement("div",{className:Oe()("eventPageHead","stripe"),id:"eventPageHead--".concat(t.id)},y.a.createElement(Ie.a,null,y.a.createElement("div",{className:"pageHead--wrapper"},y.a.createElement("div",{className:E.pageHead},y.a.createElement(Fe.a,{className:E.container,align:u?"bottom":"top",direction:"column",switchDirection:"medium"},m&&y.a.createElement("div",{className:Oe()("dateDisplay--wrapper")},y.a.createElement(_t,{className:"valignChildren--center",datetime:t.time,utcoffset:t.utc_offset,timezone:f})),y.a.createElement(xe.a,{className:E.titleArea,growFactor:2},d&&y.a.createElement("p",{className:E.titleLabel},d),y.a.createElement("h1",{className:E.title},t.name),y.a.createElement(jt,{groupName:s,isGroupPrivate:r,isGroupPublic:i,isLegacyAccessForbidden:o,showEventHosts:p,groupUrl:v,attendeeUrl:g,event:t,urlname:a})),y.a.createElement(xe.a,{className:"pageHead-pageActions",shrink:u},c&&c))))))})),xt=n(82),Ut=n(513),Lt=n(524),Gt=n(34),Wt=n.n(Gt),Vt=n(1740),Yt=n.n(Vt),Jt=function(){return function(e){return function(t){function n(e){var t;return c()(this,n),t=m()(this,v()(n).call(this,e)),S()(f()(t),"animationExit",(function(){t.state.success&&(setTimeout((function(){t.setState({triggerClose:!0})}),2e3),setTimeout((function(){t.setState({triggerClose:!1})}),3e3)),t.state.error&&setTimeout((function(){t.setState({trigger:!1})}),3e3)})),S()(f()(t),"animationCloseComplete",(function(){setTimeout((function(){t.setState({hideComponent:!0})}),900)})),S()(f()(t),"triggerAnimation",(function(e){var n=e.message,a=e.error,s=e.success;void 0!==n&&t.setState({message:n,error:a,success:s,trigger:!0})})),t.state={message:null,error:!1,success:!1,hideComponent:!1,trigger:!1,triggerClose:!1},t}return h()(n,t),u()(n,[{key:"render",value:function(){var t,n=this.state,a=n.message,r=n.error,o=n.success,i=Yt.a.succesMsg,c=Yt.a.errorMsg;return this.state.hideComponent?null:y.a.createElement(Wt.a,{styles:[Yt.a]},y.a.createElement("div",{className:Yt.a.toasterAnimationWrapper},y.a.createElement(Lt.CSSTransition,{timeout:950,classNames:"toasterAnimationClose",in:this.state.triggerClose,onEntered:this.animationCloseComplete},y.a.createElement("div",{className:"toasterAnimationClose"},y.a.createElement(Lt.CSSTransition,{timeout:600,classNames:"toasterAnimation",in:this.state.trigger,onEntered:this.animationExit,unmountOnExit:!0},y.a.createElement("div",{className:Oe()("toasterAnimation",(t={},S()(t,i,o),S()(t,c,r),t))},a)),y.a.createElement(e,s()({triggerAnimation:this.triggerAnimation},this.props))))))}}]),n}(y.a.PureComponent)}},qt=n(48),zt=n(1742),Kt=n(1340),Qt=Object(X.defineMessages)({eventAnnounceHeaderNoMeetupCopy:{id:"eventAnnounceHeaderNoMeetupCopy",defaultMessage:"You haven’t announced this event yet"},eventAnnounceButton:{id:"eventAnnounceButton",defaultMessage:"Announce"}}),Xt=n(1342),Zt=n(1743),$t=n.n(Zt),en=function(e){function t(){return c()(this,t),m()(this,v()(t).apply(this,arguments))}return h()(t,e),u()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.eventAnnounceHasErrors,a=t.hasBeenAnnounced,s=t.isAnnouncing,r=t.intl,o=t.triggerAnimation;s&&(a&&a!==e.hasBeenAnnounced&&o({message:r.formatMessage(Xt.a.event_announced_toast),error:!1,success:!0}),n&&n!==e.eventAnnounceHasErrors&&o({message:r.formatMessage(Xt.a.event_announce_error_toast),error:!0,success:!1,isAnnouncing:!1}))}},{key:"render",value:function(){var e=this.props,t=e.isAnnouncing,n=e.onAnnounceAction,a=Oe()("eventAnnounce-header-button",S()({},$t.a.button,t));return y.a.createElement(Ie.a,null,y.a.createElement(Fe.a,{direction:"column",switchDirection:"medium",align:"center",className:"padding--all"},y.a.createElement(xe.a,null,y.a.createElement("p",{className:"inverted"},y.a.createElement(X.FormattedMessage,Qt.eventAnnounceHeaderNoMeetupCopy))),y.a.createElement(xe.a,{className:"span--100 atMedium_width--auto padding--top atMedium_padding--none",shrink:!0},y.a.createElement(Wt.a,{styles:[$t.a]},y.a.createElement(Ze.a,{className:a,onClick:n,primary:!t,fullWidth:!0,icon:t?y.a.createElement(et.a,{color:qt.C_TEXT_DISABLED,shape:"updates",size:"s"}):null},y.a.createElement(X.FormattedMessage,Qt.eventAnnounceButton))))))}}]),t}(y.a.PureComponent),tn=Object(Pe.compose)(Jt())(en),nn=function(e){var t=e.children,n=ge()(e,["children"]);return y.a.createElement("div",n,t)},an=Object.keys(zt).reduce((function(e,t){return e[t]=o()({},zt[t],Kt[t]),e}),{}),sn=re()(an,!0)((function(e){return y.a.createElement(Ut.Sticky,{inline:!0,isVisible:!0,className:"eventAnnounce-header",Container:nn},y.a.createElement(tn,e))})),rn=n(53),on=n.n(rn),cn=n(1745),ln=Object(X.defineMessages)({eventAnnounceHeader:{id:"eventAnnounceModal.header",defaultMessage:"It’s published! Now let your members know."},eventAnnounceDetailsFirst:{id:"eventAnnounceModal.detailsFirstEvent",defaultMessage:"Announce this event to invite members to RSVP."},eventAnnounceDetailsSecond:{id:"eventAnnounceModal.detailsSecond",defaultMessage:"Until you do, they’ll only see it if they find it on their own."},eventAnnouncePrimaryCTA:{id:"eventAnnounceModal.primaryCTA",defaultMessage:"Announce it now"},eventAnnounceSecondaryCTA:{id:"eventAnnounceModal.secondaryCTA",defaultMessage:"Do it later"},eventAnnounceSuccessHeader:{id:"eventAnnounceModal.successHeader",defaultMessage:"You’re all set."},eventAnnounceSuccessDetailsDescription:{id:"eventAnnounceModal.successDetailsDescription",defaultMessage:"Notifications are being sent to tell your members about this event."},eventAnnounceSuccessCTA:{id:"eventAnnounceModal.successCTA",defaultMessage:"Want to invite more people?"},eventAnnounceErrorHeader:{id:"eventAnnounceModal.errorHeader",defaultMessage:"Well, this is embarrassing."},eventAnnounceErrorDetails:{id:"eventAnnounceModal.errorDetails",defaultMessage:"Sorry. Something’s gone wrong with our system. Please try again later."}}),un=n(247),dn="success",mn="error",pn=n(1746),vn=function(e){var t=e.event;return y.a.createElement("div",{className:"margin--left margin--right margin--bottom margin--top"},y.a.createElement("div",{className:"text--big padding--bottom-half"},y.a.createElement(X.FormattedMessage,ln.eventAnnounceSuccessHeader)),y.a.createElement(He.a,{className:"margin--bottom"},y.a.createElement(X.FormattedMessage,ln.eventAnnounceSuccessDetailsDescription)),y.a.createElement("div",{className:"text--secondary text--small margin--top"},y.a.createElement(X.FormattedMessage,ln.eventAnnounceSuccessCTA)),y.a.createElement(un.a,{eventInfo:t,hideBorders:!0}))},gn=function(){return y.a.createElement("div",{className:"margin--left margin--right margin--bottom"},y.a.createElement("div",{className:"text--big padding--bottom-half"},y.a.createElement(X.FormattedMessage,ln.eventAnnounceErrorHeader)),y.a.createElement(He.a,{className:"margin--bottom"},y.a.createElement(X.FormattedMessage,ln.eventAnnounceErrorDetails)))},fn=function(e){var t=e.onAnnounce,n=e.onAnnounceLater,a=e.announcing;return y.a.createElement("div",{className:"margin--left margin--right margin--bottom"},y.a.createElement("div",{className:"text--big padding--bottom-half"},y.a.createElement(X.FormattedMessage,ln.eventAnnounceHeader)),y.a.createElement("div",{className:"padding--bottom-half"},y.a.createElement(X.FormattedMessage,ln.eventAnnounceDetailsFirst)),y.a.createElement(He.a,null,y.a.createElement(X.FormattedMessage,ln.eventAnnounceDetailsSecond)),y.a.createElement(Fe.a,{direction:"column"},y.a.createElement(xe.a,{className:"marginHalf--bottom",shrink:!0},y.a.createElement(Ze.a,{type:"button",onClick:t,disabled:a,primary:!0,fullWidth:!0,className:"announceModal-nowButton"},y.a.createElement(X.FormattedMessage,ln.eventAnnouncePrimaryCTA))),y.a.createElement(xe.a,{shrink:!0},y.a.createElement(Ze.a,{type:"button",onClick:n,disabled:a,neutral:!0,fullWidth:!0,className:"announceModal-laterButton"},y.a.createElement(X.FormattedMessage,ln.eventAnnounceSecondaryCTA)))))},En=function(e){function t(e){var n;return c()(this,t),(n=m()(this,v()(t).call(this,e))).state={announcing:!1,announceViewState:"",eventAnnounceHasErrors:!1,hasBeenAnnounced:!1},n}return h()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.event,n=e.onAnnounceAction,a=e.onDismiss,s=this.state.announcing;switch(this.state.announceViewState){case dn:var r=y.a.createElement("img",{src:pn,className:"margin--center padding--bottom",style:{width:"131px"}});return y.a.createElement(on.a,{onDismiss:a,heroBgColor:"#f2f2f2",heroContent:r},y.a.createElement(vn,{event:t}));case mn:return y.a.createElement(on.a,{onDismiss:a},y.a.createElement(gn,null));default:return y.a.createElement(on.a,{onDismiss:a},y.a.createElement(fn,{onAnnounce:n,onAnnounceLater:a,announcing:s}))}}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.eventAnnounceHasErrors&&e.eventAnnounceHasErrors!==t.eventAnnounceHasErrors?o()({},t,{announcing:!1,announceViewState:mn}):e.hasBeenAnnounced&&e.hasBeenAnnounced!==t.hasBeenAnnounced?o()({},t,{announcing:!1,announceViewState:dn}):t}}]),t}(y.a.PureComponent),hn=re()(cn)(En),bn=n(102),Sn=Object(N.createStructuredSelector)({isFirstPublish:Object(ue.R)(),isEventAnnounceable:Object(ue.F)(),hasBeenAnnounced:Object(ue.C)(),eventAnnounceHasErrors:Object(ue.B)()}),_n=function(e){function t(){var e,n;c()(this,t);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return n=m()(this,(e=v()(t)).call.apply(e,[this].concat(s))),S()(f()(n),"state",{isAnnouncing:!1,isBannerAnnouncing:!1,isShowedAnnounceModal:!1}),S()(f()(n),"onModalAnnounceClicked",(function(){n.setState((function(){return{isAnnouncing:!0}}),n.onPostAnnounceAction)})),S()(f()(n),"onBannerAnnounceClicked",(function(){n.setState((function(){return{isBannerAnnouncing:!0}}),n.onPostAnnounceAction)})),S()(f()(n),"onPostAnnounceAction",(function(){var e=n.props,t=e.event,a=e.eventHandlers,s=e.group;a.postAnnounceEvent({urlname:s.urlname,eventId:t.id})})),S()(f()(n),"onDismissAnnounceModal",(function(){n.setState({isShowedAnnounceModal:!0})})),n}return h()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.event,n=e.group,a=e.eventAnnounceHasErrors,s=e.hasBeenAnnounced,r=e.isCanceled,o=e.isEventAnnounceable,i=e.isFirstPublish,c=this.state,l=c.isAnnouncing,u=c.isBannerAnnouncing,d=!c.isShowedAnnounceModal&&i&&n.members>=2;return r||!o||!t.isUpcoming||s&&!d&&!u?null:y.a.createElement(_.Fragment,null,y.a.createElement(sn,{event:t,eventAnnounceHasErrors:a,hasBeenAnnounced:s,isAnnouncing:u,onAnnounceAction:this.onBannerAnnounceClicked}),d&&y.a.createElement("div",null,y.a.createElement(Re.Portal,null,y.a.createElement(hn,{event:t,isAnnouncing:l,eventAnnounceHasErrors:a,hasBeenAnnounced:s,onAnnounceAction:this.onModalAnnounceClicked,onDismiss:this.onDismissAnnounceModal,urlname:n.urlname,eventId:t.id}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.hasBeenAnnounced&&t.isAnnouncing?{isAnnouncing:!1}:null}}]),t}(y.a.PureComponent),yn=Object(Pe.compose)(O.a,Object(A.connect)(Sn,(function(e){return{eventHandlers:Object(M.bindActionCreators)(bn,e),toastHandlers:Object(M.bindActionCreators)(xt,e)}})))(_n),An=n(1747),Nn=Object(X.defineMessages)({eventPreview:{id:"eventDraftHeader.eventPreview",defaultMessage:"<span class='text--bold'>Preview:</span> This is what members will see"},editDraftOlder:{id:"eventDraftHeader.editDraftOlder",defaultMessage:"Edit draft"},editDraft:{id:"eventDraftHeader.editDraft",defaultMessage:"Edit"},eventPublish:{id:"eventDraftHeader.eventPublish",defaultMessage:"Publish"},event_publish_error:{id:"eventDraftHeader.sysmsg.event_publish_error",defaultMessage:"There was an unexpected error. Please try again."}}),Mn="button button--bordered button--fullWidth eventDraft-header-button",Cn=Object(N.createStructuredSelector)({locale:V.getLocale,inFlight:W.getInFlight,isPublished:Object(ue.O)(),eventPublishHasErrors:Object(ue.D)()}),On={makeToast:xt.makeToast,publishEvent:bn.publishEvent,locationChange:B.locationChange},Tn=function(e){var t=e.children,n=ge()(e,["children"]);return y.a.createElement("div",n,y.a.createElement(Ie.a,null,t))},wn=function(e){function t(){var e,n;c()(this,t);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return n=m()(this,(e=v()(t)).call.apply(e,[this].concat(s))),S()(f()(n),"publishEvent",(function(){var e=n.props.event;n.props.publishEvent({urlname:e.group.urlname,eventId:e.id})})),n}return h()(t,e),u()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.intl,a=t.eventPublishHasErrors;a&&a!==e.eventPublishHasErrors&&this.props.makeToast({children:n.formatMessage(Nn.event_publish_error),error:!0})}},{key:"render",value:function(){var e=this.props,t=e.isSticky,n=e.event,a=e.isPublished,s=e.location;if(a)return y.a.createElement(B.Redirect,{to:{pathname:s.pathname,search:"?".concat(ue.g,"=true")}});var r=Object(ee.convertToLocalDatetime)(n.time,n.utc_offset)-(new Date).getTime()>0,o=n.group.urlname,i=!!n.series,c=Object(be.b)(o,n.id);return y.a.createElement(Ut.Sticky,{inline:!0,isVisible:t,className:"eventDraft-header",Container:Tn},y.a.createElement(Fe.a,{direction:"column",switchDirection:"large",align:"center",className:"padding--all"},y.a.createElement(xe.a,null,y.a.createElement("p",{className:"inverted"},y.a.createElement(X.FormattedHTMLMessage,Nn.eventPreview))),y.a.createElement(xe.a,{className:"eventDraft-actionFlexItem"},i&&y.a.createElement("a",{href:c,className:Mn},y.a.createElement(X.FormattedMessage,Nn.editDraft)),!i&&y.a.createElement(Ye.a,{to:c,className:Mn},y.a.createElement(X.FormattedMessage,Nn.editDraft)),r&&y.a.createElement(Ze.a,{onClick:this.publishEvent,primary:!0,className:"button--fullWidth eventDraft-header-button"},y.a.createElement(X.FormattedMessage,Nn.eventPublish)))))}}]),t}(y.a.PureComponent),Pn=Object(M.compose)(O.a,Object(A.connect)(Cn,On),re()(An,!0))(wn),Rn="eventHomeHeaderSticky",kn="dateDisplay--wrapper",In="".concat(Rn,"-eventName"),jn="".concat(Rn,"-rightContent");var Hn=R()((function(e){var t=e.event,n=e.rightContent,a=e.media,s=e.isVisible,r=e.hideRightContentWhenSticky,o=e.className,i=e.hasImprovedCTAs,c=(t.group||{}).timezone||"",l=y.a.createElement(Ft,{event:t}),u=Boolean(t.time)&&a.isAtHugeUp&&!i,d=Boolean(t.name)&&a.isAtMediumUp;return!((t.isPast||t.isHappeningNow)&&!a.isAtMediumUp)&&y.a.createElement(Ut.Sticky,{isVisible:s,className:"".concat(Rn," ").concat(o," padding--halfTop padding--halfBottom"),Container:Ie.a},y.a.createElement(Fe.a,{align:"center",direction:"column",switchDirection:"medium",className:"padding--left padding--right"},d&&y.a.createElement(xe.a,{growFactor:2},y.a.createElement(Fe.a,null,u&&y.a.createElement(xe.a,{shrink:!0,className:kn},y.a.createElement(_t,{className:"valignChildren--center",datetime:t.time,utcoffset:t.utc_offset,timezone:c})),l&&y.a.createElement(xe.a,null,y.a.createElement("p",{className:"text--small text--secondary"},l),y.a.createElement("p",{className:Oe()(In,"section-title","text--heavy")},t.name)))),n&&!r&&y.a.createElement(xe.a,{className:jn},n)))})),Dn=n(199),Fn=n.n(Dn),Bn=n(1452),xn=n(242),Un=function(e){function t(e){var n;c()(this,t),n=m()(this,v()(t).call(this,e)),S()(f()(n),"onButtonClick",(function(){var e=n.props.groupMemberInfo.isLoggedIn;e||n.setState({showSignUpModal:!0}),e&&n.state.autoSaveGroupAction&&n.setState({autoSaveGroupAction:!1})})),S()(f()(n),"onDismissSignUp",(function(){n.setState({showSignUpModal:!1})}));var a=e.queryString;"undefined"!=typeof window&&window.location&&(a=window.location.search);var s=new URLSearchParams(a).get(ne.a)||"";return n.state={showSignUpModal:!1,autoSaveGroupAction:s===ne.b},n}return h()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.group,n=e.event,a=e.groupMemberInfo,s=e.baseUrl,r=e.locale,o=Object(J.generateFullUrl)(s,r,Object(ne.w)(t.urlname,n.id));return _.createElement(_.Fragment,null,this.state.showSignUpModal&&_.createElement(Re.Portal,null,_.createElement(xn.a,{onDismiss:this.onDismissSignUp,context:{urlname:t.urlname,eventId:n.id,groupId:t.id,saveEvent:!0,returnUri:o},loginHasParams:!0})),this.props.render({onButtonClick:this.onButtonClick,isAutoSaveEventAction:this.state.autoSaveGroupAction,isLoggedIn:a.isLoggedIn}))}}]),t}(_.Component),Ln=Object(N.createStructuredSelector)({locale:V.getLocale,baseUrl:V.getBaseUrl}),Gn=Object(Pe.compose)(Object(A.connect)(Ln))(Un),Wn=n(1748);var Vn=function(e){var t=Object(_.useState)(e),n=Me()(t,2),a=n[0],s=n[1],r=Object(_.useState)(!1),o=Me()(r,2),i=o[0],c=o[1];return[i?a:e,function(e){s(e)},i,function(){c(!0)},function(e){c(!1),s(e)}]},Yn=n(1831),Jn=n(1832),qn=n.n(Jn),zn={primaryActionAvailable:["ux-handler-event-home-rsvp-buttons"]},Kn={primaryActionAvailable:["ux-handler-event-header-action-buttons"]},Qn={primaryActionAvailable:["ux-handler-event-home-sticky-footer-actions"]},Xn=n(27),Zn=n(87),$n=function(e,t){return Object(Xn.post)(o()({},Object(Zn.b)({params:{urlname:e,eventId:t}}),{endpoint:"".concat(e,"/events/").concat(t,"/save")}),{retainRefs:[Zn.a]})},ea=function(e,t){return Object(Xn.post)(o()({},Object(Zn.b)({params:{urlname:e,eventId:t}}),{endpoint:"".concat(e,"/events/").concat(t,"/unsave")}),{retainRefs:[Zn.a]})},ta=Object(X.defineMessages)({save:{id:"saveButton.save",defaultMessage:"Save event"},unsave:{id:"saveButton.unsave",defaultMessage:"Unsave event"}}),na=Object(A.connect)(null,(function(e){return{handlers:Object(M.bindActionCreators)({saveEvent:$n,unsaveEvent:ea},e)}}))(re()(Yn,!0)((function(e){var t,n=e.event,a=e.handlers,r=e.onClick,o=e.intl,i=e.isSmall,c=e.isLoggedIn,l=e.isAutoSaveEventAction,u=e.onSaveEvent,d=e.hasNewStyle,m=void 0!==d&&d,p=ge()(e,["event","handlers","onClick","intl","isSmall","isLoggedIn","isAutoSaveEventAction","onSaveEvent","hasNewStyle"]),v=n.group.urlname,g=n.id,f=n.saved,E=n.name,h=Vn(Boolean(f)),b=Me()(h,5),A=b[0],N=b[1],M=b[2],C=b[3],O=b[4],T=A?a.unsaveEvent:a.saveEvent,w=function(){if(c){if(N(!A),M)return;C();var e=T(v,g);e&&e.meta&&e.meta.request.then((function(e){var t=Me()(e,1)[0].response,n=t.meta,a=t.value;u&&n.statusCode===W.STATUS_CODES.OK&&(Object(k.gtmPush)({event:"eventSave","meetup.event.name":E,"meetup.event.saved":a.saved,"page.type":"eventHome","user.context":"member"}),u(a.saved),N(a.saved),O(a.saved))})).catch((function(){O(A)}))}r&&r()},P=A?ta.unsave:ta.save,R=A?Wn.StarSelected:Wn.Star,I=Oe()("saveButton",qn.a.saveButton,(t={"saveButton--save":!A,"saveButton--unsave":A},S()(t,qn.a.unsaveButton,A),S()(t,qn.a.newStyle,m),t)),j=Object(_.useState)(!1),H=Me()(j,2),D=H[0],F=H[1];return!l||D||A||(F(!0),w()),y.a.createElement(Wt.a,{styles:[qn.a]},y.a.createElement(dt.Button,s()({"aria-label":o.formatMessage(P),onClick:w,small:i&&!m,large:m,neutral:!0,className:I,iconOnly:!0},p),m&&y.a.createElement(R,null)||y.a.createElement(Wn.StarSelected,null)))}))),aa=n(1834),sa=function(e){var t,n=e.icon,a=e.label,r=e.isSelected,o=e.isDisabled,i=e.value,c=e.onRsvpAction,l=e.className,u=ge()(e,["icon","label","isSelected","isDisabled","value","onRsvpAction","className"]),d=Oe()("rsvpIndicator-button",l,(t={},S()(t,"rsvpIndicator-button--rsvpSelected",r),S()(t,"rsvpIndicator-button--rsvpDisabled",o),t));return _.createElement(Ze.a,s()({onClick:function(){return c(i)},className:d,disabled:o,"aria-label":a,fullWidth:!0,small:!0},u,{icon:n}))},ra=Object(X.defineMessages)({rsvpCantGo:{id:"eventRsvp.rsvpCantGo",defaultMessage:"Can't Go"},rsvpGoing:{id:"eventRsvp.rsvpGoing",defaultMessage:"Going"},rsvpDidntGo:{id:"eventRsvp.rsvpDidntGo",defaultMessage:"Didn't Go"},rsvpWent:{id:"eventRsvp.rsvpWent",defaultMessage:"Went"},rsvpWaitlist:{id:"eventRsvp.rsvpWaitlist",defaultMessage:"Waitlist"},rsvpWaitlisted:{id:"eventRsvp.rsvpWaitlisted",defaultMessage:"Waitlisted"},rsvpError:{id:"eventRsvp.rsvpError",defaultMessage:"Something went wrong, please try again later"}}),oa=function(e){var t=e.isGroupMember,n=e.rsvpYes,a=e.rsvpWaitlist,s=e.rsvpNo,r=e.showWaitlist,o=e.saveButton;return y.a.createElement(Fe.a,{justify:"spaceBetween"},r&&void 0!==a&&y.a.createElement(xe.a,{className:Oe()(S()({},"rsvpIndicator-button--border",!a.isSelected))},y.a.createElement(sa,a)),!r&&void 0!==n&&y.a.createElement(xe.a,{className:Oe()(S()({},"rsvpIndicator-button--border",!n.isSelected))},y.a.createElement(sa,n)),y.a.createElement(xe.a,{className:Oe()(S()({},"rsvpIndicator-button--border",!s.isSelected&&t))},y.a.createElement(sa,s)),o&&y.a.createElement(xe.a,{shrink:!0},o))},ia=re()(aa,!0)((function(e){var t=e.event,n=e.attendanceStatus,a=e.attendeesTotal,s=e.guestCount,r=e.hideRsvpStatusText,i=e.intl,c=e.isCanceled,l=e.isClosedForRsvp,u=void 0!==l&&l,d=e.isRsvpError,m=void 0!==d&&d,p=e.onRsvpAction,v=e.rsvpResponse,g=e.rsvpErrorMessages,f=void 0===g?W.EMPTY_AR:g,E=e.isWaitlistAvailable,h=e.waitlistTotal,b=e.saveButton;if(c)return null;var _=Boolean(t.survey_questions&&t.survey_questions.length),A=v!==ce.RSVP.YES&&v!==ce.RSVP.WAITLIST,N=!E&&t.isFull,M=t.isPast||u&&A||t.isHappeningNow||t.isBeforeRsvpOpenTime&&A||t.isAfterRsvpCloseTime&&A||N&&A,C=v===ce.RSVP.WAITLIST||E&&t.isFull&&v!==ce.RSVP.YES,O=function(e,t,n,a,s,r,i,c){var l={rsvpYes:{className:Oe()("rsvpIndicator-rsvp-yesButton",S()({},"rsvpIndicator-rsvp-yesButton--selected",a===ce.RSVP.YES)),value:ce.RSVP.YES,onRsvpAction:s,label:t?i.formatMessage(ra.rsvpWent):i.formatMessage(ra.rsvpGoing),icon:y.a.createElement(et.a,{shape:"check",size:r,className:"rsvpIndicator-buttonIcon"}),isDisabled:e,isSelected:a===ce.RSVP.YES,bordered:Boolean(a)&&a!==ce.RSVP.YES&&a!==ce.RSVP.PENDING_PAYMENT,id:"".concat("rsvpIndicator-rsvp-yesButton",c?"--hasQuestions":"--noQuestions")}},u={rsvpWaitlist:{className:Oe()("rsvpIndicator-rsvp-waitlistButton",S()({},"rsvpIndicator-rsvp-waitlistButton--selected",a===ce.RSVP.WAITLIST)),value:ce.RSVP.YES,onRsvpAction:s,label:i.formatMessage(ra.rsvpWaitlist),icon:y.a.createElement(et.a,{shape:"notifications",size:r,className:"rsvpIndicator-buttonIcon"}),isDisabled:e,isSelected:a===ce.RSVP.WAITLIST,bordered:Boolean(a)&&a!==ce.RSVP.WAITLIST&&a!==ce.RSVP.PENDING_PAYMENT,id:"".concat("rsvpIndicator-rsvp-waitlistButton",c?"--hasQuestions":"--noQuestions")}},d=n?u:l;return o()({},d,{rsvpNo:{className:Oe()("rsvpIndicator-rsvp-noButton",S()({},"rsvpIndicator-rsvp-noButton--selected",a===ce.RSVP.NO)),value:ce.RSVP.NO,onRsvpAction:s,label:t?i.formatMessage(ra.rsvpDidntGo):i.formatMessage(ra.rsvpCantGo),icon:y.a.createElement(et.a,{shape:"cross",size:r,className:"rsvpIndicator-buttonIcon"}),isDisabled:e,isSelected:a===ce.RSVP.NO,bordered:Boolean(a)&&a!==ce.RSVP.NO&&a!==ce.RSVP.PENDING_PAYMENT,id:"".concat("rsvpIndicator-rsvp-noButton",c?"--hasQuestions":"--noQuestions")}})}(M,t.isPast,C,v,p,"s",i,_),T=O.rsvpNo,w=O.rsvpYes,P=O.rsvpWaitlist,R=Oe()("rsvpIndicator","span--100",S()({},"".concat("rsvpIndicator","--disabled"),M)),k=Boolean(f.length);return y.a.createElement("div",{className:R},!r&&y.a.createElement(ut,{event:t,showWaitlist:C,isFullNoWaitlist:N,rsvpResponse:v,rsvpGuestCount:s,attendeesTotal:a,waitlistTotal:h,className:"padding--bottom",isClosedForRsvp:u,isHappeningNow:t.isHappeningNow,attendanceStatus:n}),!t.isPast&&!t.isHappeningNow&&y.a.createElement(Fn.a,{mark:"ux-handler-event-home-rsvp-buttons"},y.a.createElement(oa,{isGroupMember:t.isGroupMember,showWaitlist:C,rsvpNo:T,rsvpYes:w,rsvpWaitlist:P,saveButton:b})),m&&k&&f.map((function(e){return y.a.createElement("p",{className:"text--error",key:e.message},e.message)})),m&&!k&&y.a.createElement("p",{className:"text--error"},y.a.createElement(X.FormattedMessage,ra.rsvpError)))})),ca=function(e){var t=e.event,n=e.group,a=e.groupMemberInfo,s=e.isRsvpIndicatorShown,r=e.onSaveEvent,o=e.queryString;return y.a.createElement(Gn,{group:n,groupMemberInfo:a,event:t,queryString:o,render:function(e){var n=e.onButtonClick,a=e.isLoggedIn,o=e.isAutoSaveEventAction;return y.a.createElement(na,{event:t,isSmall:s,isLoggedIn:a,onSaveEvent:r,onClick:n,isAutoSaveEventAction:o})}})},la=function(e){var t=e.attendanceStatus,n=e.attendeesTotal,a=e.event,s=e.group,r=e.groupMemberInfo,o=e.guests,i=e.isCanceled,c=e.isClosedForRsvp,l=e.isPrimaryActionShown,u=e.isRsvpIndicatorShown,d=e.isRsvpError,m=e.isWaitlistAvailable,p=e.locale,v=e.onRsvpAction,g=e.rsvpResponse,f=e.rsvpErrorMessages,E=e.sticky,h=e.waitlistTotal,b=null,S={event:a,group:s,groupMemberInfo:r,queryString:e.queryString,isRsvpIndicatorShown:u,onSaveEvent:e.onSaveEvent};return e.isEventChatButtonShown?b=y.a.createElement(vt,{urlname:s.urlname,event:a}):u?b=y.a.createElement(ia,{event:a,attendanceStatus:t,attendeesTotal:n,guestCount:o,hideRsvpStatusText:E,isCanceled:i,isClosedForRsvp:c,isRsvpError:d,isWaitlistAvailable:m,onRsvpAction:v,rsvpResponse:g,rsvpErrorMessages:f,waitlistTotal:h,saveButton:ca(S)}):l&&(b=y.a.createElement(Fn.a,{mark:"ux-handler-event-header-action-buttons"},y.a.createElement(Bn.a,{fullWidth:!0,canSchedule:r.canSchedule,className:"event-joinButton",eventId:a.id,group:s,groupMemberInfo:r,hideMenu:!0,isEventJoin:!0,locale:p,urlname:s.urlname,saveButton:ca(S)}))),y.a.createElement(y.a.Fragment,null,b,!i&&!E&&y.a.createElement(un.a,{eventInfo:a}))},ua=n(1835),da=Object(X.defineMessages)({eventCanceledStickyHeaderMessageNoMeetupCopy:{id:"eventCancelledStickyHeaderMessageNoMeetupCopy",defaultMessage:"This event was canceled"}}),ma=n(1836),pa=n.n(ma),va=re()(ua)((function(){return y.a.createElement(Wt.a,{styles:[pa.a]},y.a.createElement(Ut.Sticky,{isVisible:!0,inline:!0,className:pa.a["eventCanceled-header"]},y.a.createElement(Ie.a,null,y.a.createElement("p",{className:Oe()("padding--all",pa.a.text)},y.a.createElement(et.a,{shape:"calendar-cross",size:"s",className:Oe()("padding--right-half",pa.a.icon)}),y.a.createElement(X.FormattedMessage,da.eventCanceledStickyHeaderMessageNoMeetupCopy)))))})),ga=n(363),fa=n(372),Ea=n(364),ha=function(e){function t(e){var n;return c()(this,t),n=m()(this,v()(t).call(this,e)),S()(f()(n),"onLeaveBelowHeaderWaypoint",bt()((function(){return n.setState({isHeaderInViewport:!1})}))),S()(f()(n),"onEnterBelowHeaderWaypoint",bt()((function(){return n.setState({isHeaderInViewport:!0})}))),S()(f()(n),"getEventHeaderActionsComponent",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=n.props,a=t.attendanceStatus,r=t.attendeesTotal,o=t.event,i=t.group,c=t.groupMemberInfo,l=t.guests,u=t.isCanceled,d=t.isClosedForRsvp,m=t.isPrimaryActionShown,p=t.isRsvpIndicatorShown,v=t.isRsvpError,g=t.isEventChatEnabled,f=t.locale,E=t.onRsvpAction,h=t.rsvpResponse,b=t.rsvpErrorMessages,S=t.isWaitlistAvailable,_=t.waitlistTotal,A=t.isDesktopView,N=t.queryString,M=t.hasImprovedCTAs,C=t.media,O=t.onSaveEvent,T=i.urlname,w=n.state.isHeaderInViewport,P=g&&!A&&h===ce.RSVP.YES&&!w;if(M){if(e||o.isPast)return y.a.createElement("div",null);var R=!C.isAtMediumUp;return y.a.createElement(fa.a,{url:o.link,text:o.name,title:o.name,render:function(e){var t=e.showModal,n=e.onShare,a=e.onDismiss;return y.a.createElement(y.a.Fragment,null,t&&y.a.createElement(ga.a,{eventInfo:o,onDismiss:a}),y.a.createElement(Ea.a,s()({bordered:!0,small:R,onShare:n,className:R?"margin--bottom":""},Object(St.a)("event-header--share-btn"))))}})}return y.a.createElement(la,{attendanceStatus:a,attendeesTotal:r,event:o,group:i,groupMemberInfo:c,guests:l,locale:f,isCanceled:u,isClosedForRsvp:d,isPrimaryActionShown:m,isRsvpIndicatorShown:p,isRsvpError:v,isWaitlistAvailable:S,onRsvpAction:E,rsvpResponse:h,rsvpErrorMessages:b,waitlistTotal:_,urlname:T,onSaveEvent:O,queryString:N,isEventChatButtonShown:P,sticky:e})})),n.state={isHeaderInViewport:!0},n}return h()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.event,n=e.group,a=e.groupMemberInfo,s=e.isCanceled,r=e.isEventDraft,o=e.isPrimaryActionShown,i=e.isRsvpIndicatorShown,c=e.isDesktopView,l=e.hasImprovedCTAs,u=n.urlname,d=n.name,m=this.state.isHeaderInViewport,p=(o||i)&&!m,v="undefined"!=typeof window&&void 0!==window.navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||"undefined"!=typeof window&&void 0!==window.navigator&&/Edge/.test(navigator.userAgent);return y.a.createElement(_.Fragment,null,r&&y.a.createElement(Pn,{key:"draftSticky",isSticky:!0,event:t}),y.a.createElement(yn,{key:"announceSticky",event:t,group:n,isCanceled:s}),s&&y.a.createElement(va,null),!c&&y.a.createElement(Qe,{group:n,groupMemberInfo:a,showPrivacyLabel:!0,isDesktopView:c}),y.a.createElement(Bt,{key:"eventStatus",event:t,urlname:u,groupName:d,isCanceled:s,isGroupPrivate:a.isGroupPrivate,isGroupPublic:a.isGroupPublic,isLegacyAccessForbidden:a.isLegacyAccessForbidden,rightContent:this.getEventHeaderActionsComponent(!1),hasImprovedCTAs:l}),y.a.createElement(Et.default,{key:"belowHeaderWaypoint",onLeave:this.onLeaveBelowHeaderWaypoint,onEnter:this.onEnterBelowHeaderWaypoint}),p&&y.a.createElement(Hn,{key:"eventStatusSticky",event:t,isVisible:!m,className:v?"eventHomeHeaderSticky--margin-top":"",rightContent:this.getEventHeaderActionsComponent(!0),hasImprovedCTAs:l}))}}]),t}(y.a.PureComponent),ba=R()(ha),Sa=n(112),_a=n.n(Sa),ya=n(1838),Aa=n(1839),Na=n.n(Aa),Ma=n(345),Ca=n(1840),Oa=n.n(Ca),Ta=Object(N.createStructuredSelector)({localeCode:V.getLocale}),wa=Object(X.defineMessages)({modalMainTitle:{id:"savedEventsModal.modalMainTitle",defaultMessage:"Event saved"},modalNewDescription:{id:"savedEventsModal.modalNewDescription",defaultMessage:"Don't forget to confirm if you decide to attend!"},openSavedEventsButton:{id:"savedEventsModal.openSavedEventsButton",defaultMessage:"See saved events"},closeButton:{id:"savedEventsModal.closeButton",defaultMessage:"Close"}}),Pa=Object(Pe.compose)(Object(A.connect)(Ta),re()(ya,!0))((function(e){return y.a.createElement(Wt.a,{styles:[Oa.a]},y.a.createElement(on.a,{inverted:!0,heroBgColor:"rgb(0,0,0)",heroContent:y.a.createElement(Le.a,null),focusTrapActive:!1,className:Oa.a.modal,heroBgImage:Na.a,onDismiss:function(){},fullscreen:!1},y.a.createElement(_a.a,null,y.a.createElement(Le.a,{hasSeparator:!0,className:Oe()("border--none",Oa.a.content)},y.a.createElement(He.a,null,y.a.createElement("h2",{className:"align--center text--pageTitle"},y.a.createElement(X.FormattedMessage,wa.modalMainTitle))),y.a.createElement("p",{className:"margin--bottom text--secondary align--center"},y.a.createElement(X.FormattedMessage,wa.modalNewDescription)),y.a.createElement(Fe.a,{className:"padding--top",direction:"column",justfy:"center",align:"center"},y.a.createElement(xe.a,null,y.a.createElement(dt.LinkButton,{grow:!0,className:"saved-events-btn",href:"".concat(Object(J.generateClassicUrl)(e.localeCode,Object(Ma.a)()),"?eventFilter=saved")},y.a.createElement(X.FormattedMessage,wa.openSavedEventsButton))),y.a.createElement(xe.a,{shrink:!0,className:"margin--top"},y.a.createElement(dt.Button,{className:"close-btn margin--halfBottom",reset:!0,onClick:function(){e.onClose()}},y.a.createElement(X.FormattedMessage,wa.closeButton))))))))})),Ra=n(543),ka=n(427),Ia=n(1177),ja=n(72),Ha="details",Da="chat",Fa=["details","chat"],Ba=Object(X.defineMessages)({details:{id:"eventTab.detailsTitleV2",defaultMessage:"Details & Attendees"},chat:{id:"eventTab.chatTitle",defaultMessage:"Chat"}}),xa=function(e,t,n,a){var s=(e||{}).pathname||"";return Object(ja.a)(s,"".concat(Object(ne.o)(t,n)).concat(Da))?Da:Object(ja.a)(s,"".concat(Object(ne.o)(t,n)).concat(Ha))||a?Ha:null},Ua=function(e,t,n,a){return function(s){xa(a,e,t,!0)!==s&&(s===Da?n.push(Object(ne.j)(e,t)):n.push(Object(ne.l)(e,t)))}},La=re()(ka,!0)((function(e){var t=e.selectedTab,n=e.onChange,a=Fa.map((function(e){return y.a.createElement(Ia.TabsTab,{isLeft:!0,isSelected:e===t,onClick:function(){return n(e)},key:e,className:Oe()("".concat("event-tabs","-").concat(e))},y.a.createElement("span",{className:"padding--left"},y.a.createElement(X.FormattedMessage,Ba[e])))})).filter((function(e){return null!=e}));return y.a.createElement(Ia.Tabs,{noBorder:!0,isVertical:!0,className:"padding--top padding--bottom-half roundCorners"},a)})),Ga=re()(Kt)((function(e){var t=e.hasUpcomingEvents,n=e.urlname,a=e.groupName,s=e.keyPhoto,r=e.photoGradient,o=t?Object(ne.u)(n):Object(ne.v)(n,ce.SUPPORTED_EVENT_STATUSES.PAST),i=s?s.highres_link:Object(Ke.a)(r);return y.a.createElement(qe.a,{className:Oe()("seeAllMeetups","padding--left padding--bottom border--none"),flushUntil:"large",initialHeight:!0},y.a.createElement(Ye.a,{to:o},y.a.createElement(Fe.a,null,y.a.createElement(xe.a,{shrink:!0,className:"valignChildren--center"},y.a.createElement("img",{className:"event-group-photo",src:i,alt:a})),y.a.createElement(xe.a,{align:"left",className:"border--left valignChildren--center"},y.a.createElement("p",null,a),y.a.createElement("p",{className:"link"},y.a.createElement(X.FormattedMessage,Xt.a.seeMoreEvents))),y.a.createElement(xe.a,{shrink:!0,className:"valignChildren--center"},y.a.createElement(et.a,{shape:"chevron-right",size:"s",className:"link"})))))})),Wa=n(1450),Va=n(1842),Ya=n(1843),Ja=n.n(Ya),qa=Object(X.defineMessages)({going:{id:"eventNote.going",defaultMessage:"You're going to this event!"},waitlist:{id:"eventNote.waitlist",defaultMessage:"You're on the waitlist"}}),za=re()(Va)((function(e){var t=function(e,t){if(!t.isPast)return ce.RSVP.YES===e?qa.going:ce.RSVP.WAITLIST!==e||t.isHappeningNow?void 0:qa.waitlist}(e.rsvpResponse,e.event);if(!t)return y.a.createElement(y.a.Fragment,null);var n,a=(n=e.rsvpResponse,ce.RSVP.YES===n?"event-rsvp-banner--going":ce.RSVP.WAITLIST===n?"event-rsvp-banner--waitlist":"");return y.a.createElement(Wt.a,{styles:[Ja.a]},y.a.createElement("div",s()({className:Ja.a.note},Object(St.a)(a)),y.a.createElement(Ie.a,{className:"align--center"},y.a.createElement("span",{className:"text--body inverted"},y.a.createElement(X.FormattedMessage,t)))))})),Ka=n(1671),Qa=n(166),Xa=n.n(Qa),Za=function(e){var t=Object(ee.convertToLocalTime)(e.event.time,e.event.utc_offset);return _.createElement(Fe.a,{direction:"column"},_.createElement(xe.a,Object(St.a)("event-footer--date-time",{timestamp:e.event.time}),_.createElement(X.FormattedDate,{value:t,month:"short",day:"2-digit",weekday:"short"})," · ",_.createElement(X.FormattedTime,{value:t})),_.createElement(xe.a,null,_.createElement("span",{className:"text--bold"},e.event.name)))},$a=n(1845),es=n(1846),ts=n(290),ns=Object(X.defineMessages)({freePrice:{id:"eventStickyFooter.freePrice",defaultMessage:"FREE"}}),as=re()(es)((function(e){var t,n,a=e.event,s=e.memberPayCheckoutSettings;return Object(ts.c)(a)?t=a.fee:a.member_pay_fee&&(t=s.fee),n=t?_.createElement(X.FormattedNumber,{value:t.amount,style:"currency",currency:t.currency}):_.createElement(X.FormattedMessage,ns.freePrice),_.createElement("span",Object(St.a)("event-footer--price-label"),n)})),ss=n(1847),rs=n(1848),os=n.n(rs),is=Object(X.defineMessages)({goingSingle:{id:"rsvpStatus.goingSingle",defaultMessage:"You're going!"},goingMultiple:{id:"rsvpStatus.goingMultiple",defaultMessage:"You + {COUNT} going"},isUpcomingWaitlist:{id:"rsvpStatus.waitlist",defaultMessage:"{COUNT} on waitlist"},past:{id:"rsvpStatus.past",defaultMessage:"You went!"},editButton:{id:"rsvpStatus.editButton",defaultMessage:"Edit RSVP"}}),cs=re()(ss)((function(e){var t=function(e){var t=e.rsvpResponse,n=e.event,a=e.rsvpGuestCount,s=e.isWaitlistAvailable,r=e.waitlistTotal,i=n.isUpcoming,c=n.isHappeningNow,l=n.isPast;return t===ce.RSVP.YES&&(i||c)?a?o()({},is.goingMultiple,{values:{COUNT:a}}):is.goingSingle:Object(ts.e)(t,n,s)&&(i||c)?o()({},is.isUpcomingWaitlist,{values:{COUNT:r}}):t===ce.RSVP.YES&&l?is.past:{}}(e);return Object(W.isEmpty)(t)?y.a.createElement(y.a.Fragment,null):y.a.createElement(Wt.a,{styles:[os.a]},y.a.createElement("div",{className:"text--bold"},y.a.createElement(X.FormattedMessage,t)),Object(ts.g)(e.event)&&y.a.createElement("button",s()({type:"button",onClick:e.onEdit,className:os.a.editButton},Object(St.a)("event-footer--edit-rsvp-btn")),y.a.createElement(X.FormattedMessage,is.editButton)))})),ls=Object(X.defineMessages)({spotsLeft:{id:"priceOrEventStatus.spotsLeft",defaultMessage:"{SPOTS_LEFT, number} spots left"},oneSpotLeft:{id:"priceOrEventStatus.oneSpotLeft",defaultMessage:"1 spot left"}}),us=function(e){var t=e.rsvpResponse,n=e.event,a=e.rsvpGuestCount,s=e.waitlistTotal,r=e.isWaitlistAvailable,i=e.onRsvpEditForm,c=e.attendeesTotal,l=Math.max(n.rsvp_limit-c,0),u=1===l&&ls.oneSpotLeft||o()({},ls.spotsLeft,{values:{SPOTS_LEFT:l}});return y.a.createElement(Fe.a,{align:"center"},Object(ts.b)(t)&&y.a.createElement(xe.a,{shrink:!0},y.a.createElement(cs,{event:n,rsvpResponse:t,rsvpGuestCount:a,isWaitlistAvailable:r,waitlistTotal:s,onEdit:i})),!Object(ts.b)(t)&&!n.isPast&&!n.isAccessForbidden&&y.a.createElement(xe.a,{shrink:!0},y.a.createElement(Fe.a,{direction:"column"},y.a.createElement(xe.a,{className:"text--bold"},y.a.createElement(as,{event:e.event,memberPayCheckoutSettings:e.memberPayCheckoutSettings})),n.rsvp_limit&&y.a.createElement(xe.a,null,y.a.createElement(X.FormattedMessage,u)))))},ds=re()($a)((function(e){return y.a.createElement(Ee.a.Consumer,null,(function(t){return y.a.createElement(us,s()({},e,t))}))})),ms=n(1850),ps=Object(X.defineMessages)({attendButton:{id:"eventStickyFooter.attendButton",defaultMessage:"Attend"},shareButton:{id:"eventStickyFooter.shareButton",defaultMessage:"Share"},waitlistButton:{id:"eventStickyFooter.waitlistButton",defaultMessage:"Join waitlist"},requestToJoinButton:{id:"eventStickyFooter.requestToJoinButton",defaultMessage:"Request to join"},joinButton:{id:"eventStickyFooter.joinButton",defaultMessage:"Join"},happeningNowButton:{id:"eventStickyFooter.happeningNowButton",defaultMessage:"Happening Now"},rsvpNotOpenButton:{id:"eventStickyFooter.rsvpNotOpenButton",defaultMessage:"Not open"},pastEventButton:{id:"eventStickyFooter.pastEventButton",defaultMessage:"Past event"},membershipPendingButton:{id:"eventStickyFooter.membershipPendingButton",defaultMessage:"Requested"},payDuesButton:{id:"eventStickyFooter.payDuesButton",defaultMessage:"Pay Dues"}}),vs=function(e){var t=e.event;return y.a.createElement(fa.a,{url:t.link,text:t.name,title:t.name,render:function(e){var n=e.showModal,a=e.onShare,r=e.onDismiss;return y.a.createElement(y.a.Fragment,null,n&&y.a.createElement(ga.a,{eventInfo:t,onDismiss:r}),y.a.createElement(Ea.a,s()({neutral:!0,large:!0,onShare:a},Object(St.a)("event-footer--share-btn"))))}})},gs=function(){return y.a.createElement(dt.Button,s()({disabled:!0,large:!0},Object(St.a)("event-footer--membership-pending-btn")),y.a.createElement(X.FormattedMessage,ps.membershipPendingButton))},fs=function(){return y.a.createElement(dt.Button,s()({disabled:!0,large:!0},Object(St.a)("event-footer--happening-now-btn")),y.a.createElement(X.FormattedMessage,ps.happeningNowButton))},Es=function(){return y.a.createElement(dt.Button,s()({disabled:!0,large:!0},Object(St.a)("event-footer--past-event-btn")),y.a.createElement(X.FormattedMessage,ps.pastEventButton))},hs=function(e){var t=e.group,n=e.groupMemberInfo,a=e.event,r=e.queryString,o=e.isRsvpIndicatorShown,i=e.onSaveEvent;return y.a.createElement(Gn,{group:t,groupMemberInfo:n,event:a,queryString:r,render:function(e){var t=e.isLoggedIn,n=e.isAutoSaveEventAction,r=e.onButtonClick;return y.a.createElement(na,s()({event:a,isSmall:o,isLoggedIn:t,onSaveEvent:i,onClick:r,isAutoSaveEventAction:n,hasNewStyle:!0},Object(St.a)("event-footer--save-btn")))}})},bs=function(e){var t=e.groupMemberInfo,n=e.history,a=e.group,r=e.event,o=e.isClosedForRsvp,i=Object(ts.l)(t,r,o),c=i?ps.requestToJoinButton:ps.joinButton;return y.a.createElement(dt.Button,s()({primary:!0,large:!0,onClick:function(){var e=Object(ne.m)(a.urlname,r.id.toString());return n.push(e)}},Object(St.a)(i?"event-footer--request-to-join-btn":"event-footer--join-btn")),y.a.createElement(X.FormattedMessage,c))},Ss=function(e){var t=e.onRsvpAction;return y.a.createElement(dt.Button,s()({primary:!0,large:!0,onClick:function(){return t(ce.RSVP.YES)}},Object(St.a)("event-footer--attend-btn")),y.a.createElement(X.FormattedMessage,ps.attendButton))},_s=function(e){var t=e.onRsvpAction;return y.a.createElement(dt.Button,s()({primary:!0,large:!0,onClick:function(){return t(ce.RSVP.YES)}},Object(St.a)("event-footer--rsvp-waitlist-btn")),y.a.createElement(X.FormattedMessage,ps.waitlistButton))},ys=function(){return y.a.createElement(dt.Button,s()({disabled:!0,large:!0},Object(St.a)("event-footer--rsvp-not-open-btn")),y.a.createElement(X.FormattedMessage,ps.rsvpNotOpenButton))},As=function(e){var t=e.history,n=e.group;return y.a.createElement(dt.Button,s()({primary:!0,large:!0,onClick:function(){var e=Object(te.f)(n.urlname);return t.push(e)}},Object(St.a)("event-footer--pay-dues-btn")),y.a.createElement(X.FormattedMessage,ps.payDuesButton))},Ns=re()(ms)((function(e){var t=e.groupMemberInfo,n=e.event,a=e.rsvpResponse,s=e.isRsvpIndicatorShown,r=e.isPrimaryActionShown,o=e.isWaitlistAvailable,i=e.isClosedForRsvp,c=Object(ts.l)(t,n,i),l=(Object(ts.i)(t,n,i)||c)&&r,u=Object(ts.h)(t)&&r,d=Object(ts.k)(t)&&r,m=!Object(ts.a)(t)&&!d,p={happening:[fs,m&&n.isHappeningNow],rsvpNotOpen:[ys,m&&Object(ts.j)(n,i,a)],save:[hs,Object(ts.m)(n,t,a)],share:[vs,Object(ts.n)(n,a)],attend:[Ss,s&&Object(ts.f)(a,n,o,i)],waitlist:[_s,s&&Object(ts.o)(a,n,o,i)],pending:[gs,u],join:[bs,l],payDues:[As,d],past:[Es,m&&n.isPast]};return y.a.createElement(Fe.a,null,y.a.createElement(Fn.a,{mark:"ux-handler-event-home-sticky-footer-actions"},Object.keys(p).filter((function(e){return p[e][1]})).map((function(t){var n=Me()(p[t],1)[0];return y.a.createElement(xe.a,{shrink:!0,key:t},y.a.createElement(n,e))}))))})),Ms=n(1851),Cs=n.n(Ms),Os=Object(Pe.compose)(Xa.a)((function(e){var t=e.event,n=e.group,a=e.groupMemberInfo,r=e.isRsvpIndicatorShown,o=e.isPrimaryActionShown,i=e.queryString,c=e.media,l=e.attendeesTotal,u=e.guestCount,d=e.isClosedForRsvp,m=e.isWaitlistAvailable,p=e.onRsvpAction,v=e.rsvpResponse,g=e.history,f=e.waitlistTotal,E=e.memberPayCheckoutSettings,h=e.onSaveEvent,b=c.isAtMediumUp;return y.a.createElement(Wt.a,{styles:[Cs.a]},y.a.createElement(Ut.Sticky,{position:"bottom",isVisible:!0,Container:Ie.a,className:Cs.a.footer},y.a.createElement(Fe.a,s()({className:Cs.a.footerContent,align:"center",justify:"spaceBetween"},Object(St.a)("event-footer")),b&&y.a.createElement(xe.a,{shrink:!0},y.a.createElement(Za,{event:t})),y.a.createElement(xe.a,{shrink:b},y.a.createElement(Fe.a,{align:"center",justify:"spaceBetween"},y.a.createElement(xe.a,{shrink:!0},y.a.createElement(ds,{rsvpResponse:v,event:t,isWaitlistAvailable:m,rsvpGuestCount:u,attendeesTotal:l,waitlistTotal:f,memberPayCheckoutSettings:E,onRsvpAction:p})),y.a.createElement(xe.a,{shrink:!0,className:Cs.a.eventActions},y.a.createElement(Ns,{group:n,groupMemberInfo:a,event:t,queryString:i,rsvpResponse:v,isRsvpIndicatorShown:r,isPrimaryActionShown:o,isClosedForRsvp:d,isWaitlistAvailable:m,onRsvpAction:p,history:g,onSaveEvent:h})))))))})),Ts=n(180),ws=Object(Pe.compose)(Object(U.default)(G.c),R.a)((function(e){var t=e.attendeesTotal,n=e.canCloseRsvp,a=e.canOpenRsvp,s=e.cancelEvent,r=e.closeEventForRsvp,o=e.children,i=e.deleteDraftEvent,c=e.deleteCanceledEvent,l=e.editEventSeries,u=e.event,d=e.group,m=e.groupMemberInfo,p=e.guests,v=e.hasUpcomingEvents,g=e.isCanceled,f=e.isClosedForRsvp,E=e.isDeleted,h=e.isDesktopView,b=e.isEventChatEnabled,S=e.isPrimaryActionShown,A=e.isProNetworkGroup,N=e.isProNetworkGroupHidden,M=e.isRsvpIndicatorShown,C=e.isRsvpError,O=e.isWaitlistAvailable,T=e.locale,w=e.openEventForRsvp,P=e.onRsvpAction,R=e.rsvpResponse,k=e.rsvpErrorMessages,I=e.showSponsorsFF,j=e.sponsors,H=void 0===j?[]:j,D=e.waitlistTotal,F=e.media,B=e.memberPayCheckoutSettings,x=e.queryString,U=e.location,L=e.history,W=e.featureFlags,V=e.eventCTASplitTestVariant,Y=!u.member_pay_fee&&W.includes(G.c)&&V===Ts.b,J=Object(_.useState)(!1),q=Me()(J,2),z=q[0],K=q[1],Q=function(e){e&&(K(!we.a.get("MEETUP_EVENT_SAVED_EVENTS_MODAL_SHOWN")),we.a.set("MEETUP_EVENT_SAVED_EVENTS_MODAL_SHOWN",!0));var t=Object(ne.y)(U.search);if(t!==U.search){var n=window.history;n.replaceState(n.state,"removeSaveEventAction","".concat(U.pathname).concat(t))}};return y.a.createElement(_.Fragment,null,z&&y.a.createElement(Re.Portal,null,y.a.createElement(Pa,{onClose:function(){K(!1)}})),Y&&y.a.createElement(za,{rsvpResponse:R,event:u}),y.a.createElement(ba,{attendanceStatus:"",attendeesTotal:t,event:u,group:d,groupMemberInfo:m,guests:p,isCanceled:g,isClosedForRsvp:f,isEventDraft:u.isDraft,isPrimaryActionShown:S,isRsvpIndicatorShown:M,isRsvpError:C,isEventChatEnabled:b,locale:T,onRsvpAction:P,rsvpResponse:R,rsvpErrorMessages:k,isWaitlistAvailable:O,waitlistTotal:D,isDesktopView:h,queryString:x,hasImprovedCTAs:Y,onSaveEvent:Q}),y.a.createElement(Ie.a,{id:"eventHome--".concat(u.id)},y.a.createElement(Fe.a,{direction:"column",switchDirection:"large",rowReverse:"large"},y.a.createElement(xe.a,null,!h&&y.a.createElement(Ge.a,{event:u,group:d}),y.a.createElement("div",{className:"sticky-ontheside"},y.a.createElement(Le.a,{className:Oe()({"padding--halfTop":!h},"eventSideBar"),noSeparator:!0},b&&h&&y.a.createElement(He.a,null,y.a.createElement(La,{selectedTab:xa(U,d.urlname,u.id,!0),onChange:Ua(d.urlname,u.id,L,U)})),y.a.createElement(ft,{event:u,editEventSeries:l,cancelEvent:s,deleteDraftEvent:i,deleteCanceledEvent:c,openEventForRsvp:w,closeEventForRsvp:r,isCanceled:g,isDeleted:E,isClosedForRsvp:f,canOpenRsvp:a,canCloseRsvp:n,urlname:d.urlname,hidePreviewOption:!0,hideAttendOption:!0,isProNetworkGroup:A,isProNetworkGroupHidden:N,isHideStatusForMembers:!0,isDesktopView:h,hasImprovedCTAs:Y}),h&&y.a.createElement(Qe,{group:d,groupMemberInfo:m,showPrivacyLabel:!0,isDesktopView:h}),y.a.createElement(He.a,null,y.a.createElement(Ra.a,{event:u,isCanceled:g,memberPayCheckoutSettings:B,isClosedForRsvp:f,rsvpResponse:R,hasImprovedCTAs:Y}),F.isAtLargeUp&&y.a.createElement(We.a,{urlname:d.urlname,eventId:u.id,className:"margin--top align--center"}))))),y.a.createElement(xe.a,{className:"eventContent",growFactor:2},y.a.createElement(He.a,null,o),y.a.createElement(Le.a,null,y.a.createElement(He.a,null,y.a.createElement(Ga,{hasUpcomingEvents:v,urlname:d.urlname,groupName:d.name,keyPhoto:d.key_photo,photoGradient:d.photo_gradient}))),!F.isAtLargeUp&&y.a.createElement(We.a,{urlname:d.urlname,eventId:u.id,className:"border--top padding--top margin--halfTop section link"}))),(A||I)&&H.length>0&&y.a.createElement(He.a,null,y.a.createElement(Wa.a,{sponsors:H})),y.a.createElement(Ka.a,{isOnEventHome:!0})),Y&&y.a.createElement(Os,{event:u,group:d,groupMemberInfo:m,isRsvpIndicatorShown:M,isPrimaryActionShown:S,queryString:x,attendeesTotal:t,guestCount:p,isCanceled:g,isClosedForRsvp:f,isRsvpError:C,onRsvpAction:P,rsvpResponse:R,rsvpErrorMessages:k,isWaitlistAvailable:O,waitlistTotal:D,memberPayCheckoutSettings:B,history:L,onSaveEvent:Q}))})),Ps=n(1673),Rs=n(168),ks=function(e){return function(t){var n=function(n){function a(t){var n;return c()(this,a),n=m()(this,v()(a).call(this,t)),S()(f()(n),"getAPIKey",(function(){var t=n.props.self.email,a=void 0===t?"":t;return a&&(a.endsWith("@meetup.org")||a.endsWith(".meetup.org"))?e.test:e.prod})),S()(f()(n),"checkStripe",(function(){try{return Boolean(window&&window.Stripe)}catch(e){return!1}})),n.state={stripeReady:n.checkStripe(),stripeLoading:!1},n}return h()(a,n),u()(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.stripeReady,n=this.checkStripe();if(t||n)t!==n&&n&&this.setState({stripeReady:!0});else var a=setInterval((function(){(t=e.checkStripe())&&(e.setState({stripeReady:t}),clearInterval(a))}),250)}},{key:"render",value:function(){var e=this.state.stripeReady;return _.createElement(_.Fragment,null,_.createElement(Rs.Helmet,null,_.createElement("script",{id:"stripe-js-v3",src:"https://js.stripe.com/v3/"})),_.createElement(t,s()({},this.props,{stripeAPIKey:this.getAPIKey(),stripeLoading:this.state.stripeLoading,stripeReady:e})))}}]),a}(_.Component);return S()(n,"displayName",Object(Pe.wrapDisplayName)(t,"WithStripeTokenizer")),n}},Is=n(443),js=n(1853),Hs=n(178),Ds=n(1854),Fs=n.n(Ds),Bs=Object(X.defineMessages)({chatHeaderEventDetailsLink:{id:"eventChat.stickyHeader.eventDetailsLink",defaultMessage:"See event details"}}),xs=re()(js)((function(e){var t=e.urlname,n=e.timezone,a=e.event;return y.a.createElement(Wt.a,{styles:[Fs.a]},y.a.createElement(Ut.Sticky,{inline:!0,isVisible:!0,className:"stripe ".concat("eventChat-header")},y.a.createElement(Ie.a,{className:"padding--left padding--top padding--right"},y.a.createElement("div",{className:"padding--bottom-half"},y.a.createElement("div",{className:Fs.a.name},a.name),y.a.createElement(Hs.a,{customDateProps:{month:"short",day:"numeric"},localDate:a.local_date,localTime:a.local_time,hideAddCalendarLink:!0,hideEndDate:!0,time:a.time,timezone:n,className:"text--small ".concat(Fs.a.time)})),y.a.createElement("div",{className:"padding--bottom-half"},y.a.createElement(Ye.a,{className:"link text--small",to:Object(ne.l)(t,a.id)},y.a.createElement(X.FormattedMessage,Bs.chatHeaderEventDetailsLink))))))})),Us=function(e){var t=e.event,n=e.group,a=e.rsvpResponse,s=e.rsvpRequested,r=e.groupMemberInfo,o=e.location;return y.a.createElement(y.a.Fragment,null,y.a.createElement(xs,{urlname:n.urlname,timezone:n.timezone,event:t}),y.a.createElement(Is.a,{eventId:t.id,groupId:n.id,rsvpResponse:a,rsvpRequested:s,groupMemberInfo:r,eventHosts:t.event_hosts,location:o}))},Ls=O()((function(e){return y.a.createElement(Ee.a.Consumer,null,(function(t){return y.a.createElement(Us,s()({},e,t))}))}));n.d(t,"EventContainerComponent",(function(){return Vs}));var Gs="action",Ws=Object(N.createStructuredSelector)({canAccessEventDetails:ue.h,canGiveFeedback:Object(ue.x)(),eventHasErrors:ue.m,eventHasTimedOut:ue.p,eventHasServerError:ue.o,eventHasLoaded:ue.n,isAccessingDeletedEvent:ue.l,event:Object(ue.A)(),group:le.h,groupMemberInfo:le.u,groupProfile:le.G,hasUpcomingEvents:le.N,isEventChatRoute:Y.e,isProNetworkGroup:le.S,isProNetworkGroupHidden:le.T,locale:V.getLocale,baseUrl:V.getBaseUrl,proNetwork:le.F,sponsors:le.J,isLoggedIn:V.getIsLoggedIn,isLeadershipTeam:le.Q,selectedCommentKey:Object(ue.y)(),memberPayCheckoutSettings:ye.b,isFromReferral:ue.w,isBot:V.getIsBot,self:V.getSelf,eventCTASplitTestVariant:Ts.c,eventRequestId:Object(ue.E)()}),Vs=function(e){function t(e){var n;c()(this,t),n=m()(this,v()(t).call(this)),S()(f()(n),"redirectWithReload",(function(e){n.props.history.push(e),n.props.history.go(0)}));var a=e.location;n.commentsRef=y.a.createRef();var s=new URLSearchParams(a.search),r=s.get(Gs)||"",o=s.get("response")||"";return n.state={actionParams:r,rsvpResponseParams:o,stripe:null},n}return h()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.proNetwork,n=e.isProNetworkGroup,a=e.group,s=e.event,r=e.getMemberPaymentSettings,i=e.self,c=e.eventRequestId;if(!Object(W.isEmpty)(a)){var l=a.id;if(n){var u=(t||{}).urlname;this.props.getGroupSponsors({networkUrlname:u,groupId:l})}if(s.member_pay_fee)r({eventId:s.id});var d=o()({"meetup.group.name":a.name,"meetup.event.name":s.name,"meetup.event.status":s.status},s.member_pay_fee?{event:"detail",ecommerce:{detail:{products:[{name:s.name,id:s.id,brand:"Member Pay",category:(a.category||{}).name}]}}}:{});Object(k.gtmPush)(d),s.member_pay_fee&&z.a.trackViewV2Record({viewName:"eventHome",viewType:"page",pageName:"eventHome",eventRef:s.id,chapterId:l,memberId:i.id,requestId:c})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.canAccessEventDetails,a=t.canGiveFeedback,r=t.children,o=t.event,i=t.eventHasErrors,c=t.eventHasLoaded,l=t.eventHasTimedOut,u=t.eventHasServerError,d=t.isAccessingDeletedEvent,m=t.group,p=t.groupMemberInfo,v=t.groupProfile,g=t.hasUpcomingEvents,f=t.location,E=t.locale,h=t.media,b=t.sponsors,S=t.isEventChatRoute,_=t.isProNetworkGroup,A=t.isProNetworkGroupHidden,N=t.isLoggedIn,M=t.baseUrl,C=t.featureFlags,O=t.selectedCommentKey,T=t.memberPayCheckoutSettings,P=t.isFromReferral,R=t.isBot,k=t.eventCTASplitTestVariant,D=this.state,x=D.actionParams,U=D.rsvpResponseParams,W=C.includes(q.l),V=C.includes(G.c)&&k===Ts.b;if(!c)return y.a.createElement(I.Page,{header:y.a.createElement(I.Header,{className:"header--aboveFloatingContent"}),footer:y.a.createElement(I.Footer,null)},y.a.createElement("div",{style:{paddingTop:"100px",height:"500px"}},y.a.createElement(F.a,null)));if(d)return y.a.createElement(B.Redirect,{to:Object(te.l)(m.urlname)});if(l||u)return y.a.createElement(H.a,null);if(i||!n)return y.a.createElement(j.a,null);if(P&&!N&&!R){var Y={},z=new URLSearchParams(f.search).get("_xtd");return z&&(Y._xtd=z,Y.referrer_n="event",Y.referrer_i=o.id,Y.ctx="ref"),y.a.createElement(B.Redirect,{to:Object(J.generateRegisterUrl)("",Y)})}if("edit"===x)return y.a.createElement(B.Redirect,{permanent:!0,to:Object(be.b)(m.urlname,o.id)});if("copy"===x)return y.a.createElement(B.Redirect,{permanent:!0,to:Object(be.a)(m.urlname,o.id)});if(!N&&x===Ee.b){var K=Object(J.generateFullUrl)(M,E,Object(ne.n)(m.urlname,o.id,U)),Q=new URLSearchParams("returnUri=".concat(encodeURIComponent(K)));return y.a.createElement(B.Redirect,{to:"".concat(Object(J.generateLoginUrl)(E),"?").concat(Q.toString())})}var X=S&&!h.isAtMediumUp&&W;return y.a.createElement(w.StripeProvider,{stripe:this.state.stripe},y.a.createElement(he,{event:o,group:m,groupProfile:v,groupMemberInfo:p,urlname:m.urlname,rsvpFromQueryString:f.search,memberPayCheckoutSettings:T,render:function(t){var n=t.editEventSeries,i=t.cancelEvent,c=t.deleteDraftEvent,l=t.deleteCanceledEvent,u=t.openEventForRsvp,d=t.closeEventForRsvp,v=t.isCanceled,N=t.isDeleted,M=t.isDraft,w=t.isClosedForRsvp,P=t.canOpenRsvp,R=t.canCloseRsvp,j=t.attendeesTotal,H=t.attendeeSample,D=t.guests,F=t.isPrimaryActionShown,U=t.isRsvpIndicatorShown,G=t.isRsvpError,Y=t.isWaitlistAvailable,J=t.onRsvpAction,z=t.rsvpResponse,K=t.rsvpErrorMessages,Q=t.waitlistTotal,Z=t.isSeriesUpdate,$=t.isShouldDirectToChat,ee={},te=W&&$&&!S,ae=!W&&S;return V?ee=Qn:!U||o.isPast||o.isHappeningNow?F&&(ee=Kn):ee=zn,o.member_pay_fee&&x===Ee.b&&Object(L.a)(f.search)?null:y.a.createElement(I.Page,s()({header:y.a.createElement(I.Header,{className:"header--aboveFloatingContent"}),footer:y.a.createElement(I.Footer,null),toaster:y.a.createElement(Ps.a,null),className:"event-home"},ee),y.a.createElement(pe,null),te&&y.a.createElement(B.Redirect,{to:"".concat(Object(ne.k)(o.group.urlname,o.id))}),ae&&y.a.createElement(B.Redirect,{to:"".concat(Object(ne.o)(o.group.urlname,o.id))}),N&&y.a.createElement(B.Redirect,{to:Z?Object(ne.f)(m.urlname,o.name):Object(ne.e)(m.urlname,o.name,!v&&!M)}),X?y.a.createElement(Ls,null):y.a.createElement(ws,{canGiveFeedback:a,event:o,group:m,groupMemberInfo:p,hasUpcomingEvents:g,isDesktopView:h.isAtLargeUp||!1,editEventSeries:n,cancelEvent:i,deleteDraftEvent:c,deleteCanceledEvent:l,openEventForRsvp:u,closeEventForRsvp:d,isCanceled:v,isDeleted:N,isClosedForRsvp:w,canOpenRsvp:P,canCloseRsvp:R,attendeesTotal:j,attendeeSample:H,guests:D,isPrimaryActionShown:F,isRsvpIndicatorShown:U,isRsvpError:G,isWaitlistAvailable:Y,locale:E,onRsvpAction:J,rsvpResponse:z,rsvpErrorMessages:K,waitlistTotal:Q,sponsors:b,showSponsorsFF:C.includes(q.j),isEventChatEnabled:W,isProNetworkGroup:_,isProNetworkGroupHidden:A,commentsRef:e.commentsRef,selectedCommentKey:O,memberPayCheckoutSettings:T,queryString:f.search,location:f,history:e.props.history,eventCTASplitTestVariant:k},r),y.a.createElement(Se.a,{group:m,event:o}))}}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.stripeAPIKey;return e.stripeReady&&!t.stripe?{stripe:window.Stripe(n)}:null}}]),t}(y.a.PureComponent),Ys=Object(M.compose)(R.a,Object(A.connect)(Ws,(function(e){return{getGroupSponsors:Object(M.bindActionCreators)(_e.a,e),getMemberPaymentSettings:Object(M.bindActionCreators)(Ae.f,e)}})),Object(U.default)(q.j),Object(U.default)(q.l),Object(U.default)(G.c),Object(T.a)("eventCTASplitTestVariant",(function(e){return!!e})),O.a,Object(x.default)("eventHome"),ks({prod:"pk_live_mq5HMlDT5Te1rHZwXTNGuGaY",test:"pk_test_9CN5QPMLI61PWXAD7MVdoXzh"}));t.default=Ys(Vs)}}]);
//# sourceMappingURL=eventHome.86f36b1a.js.map